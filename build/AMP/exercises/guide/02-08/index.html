
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Cloudera Education">
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>02-08 Migrating Existing Data Flows to CDF-PC - ADMIN-238: Just Enough Kubernetes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#02-08-migrating-existing-data-flows-to-cdf-pc" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="ADMIN-238: Just Enough Kubernetes" class="md-header__button md-logo" aria-label="ADMIN-238: Just Enough Kubernetes" data-md-component="logo">
      
  <img src="../../assets/images/logo-cloudera-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ADMIN-238: Just Enough Kubernetes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              02-08 Migrating Existing Data Flows to CDF-PC
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="ADMIN-238: Just Enough Kubernetes" class="md-nav__button md-logo" aria-label="ADMIN-238: Just Enough Kubernetes" data-md-component="logo">
      
  <img src="../../assets/images/logo-cloudera-white.svg" alt="logo">

    </a>
    ADMIN-238: Just Enough Kubernetes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Course Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Table of Contents
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    01 Course Introduction
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            01 Course Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01-01 Course Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01-02 Getting Aboard
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    02 Get Aboard
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            02 Get Aboard
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-01 Get Aboard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-02 Get Aboard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-03/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-03 Bookmarking Cloudera Resources
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    03 Design Principles for Kubernetes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            03 Design Principles for Kubernetes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03-01 Design Principles for Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03-02 Reviewing Kubernetes Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    04 Access and Interact
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            04 Access and Interact
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04-01 Access and Interact
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04-02 Installing minikube for macOS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-03/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04-03 Installing minikube for Windows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-04/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04-04 Running minikube
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    05 Microservices
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            05 Microservices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05-01 Microservices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05-02 Running Docker Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-03/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05-03 Building a Microservice
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    06 Architecture for Kubernetes Resources
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            06 Architecture for Kubernetes Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06-01 Architecture for Kubernetes Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06-02 Architecture for Kubernetes Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-03/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06-03 Running Pods and Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-04/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06-04 Inspecting the Kubernetes Dashboard
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    07 Kubernetes Manifest Files
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            07 Kubernetes Manifest Files
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    07-01 Kubernetes Manifest Files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    07-02 Creating Deployments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-03/README.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    07-03 Inspecting Deployments
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    08 Architecture for Kubernetes Cluster
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            08 Architecture for Kubernetes Cluster
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    08-01 Architecture for Kubernetes Cluster
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    08-02 Architecture for Kubernetes Cluster
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    09 Architecture for Kubernetes Control Plane
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            09 Architecture for Kubernetes Control Plane
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    09-01 Architecture for Kubernetes Control Plane
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    09-02 Inspecting the Control Plane
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    10 Next Steps
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            10 Next Steps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10-01 Next Steps
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Appendix-A Cloudera Support
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            Appendix-A Cloudera Support
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../A-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    A-01 Cloudera Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../A-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    A-02 Bookmarking Cloudera Resources
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-create-a-kafka-topic" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create a Kafka Topic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-obtain-the-kafka-broker-list" class="md-nav__link">
    <span class="md-ellipsis">
      2. Obtain the Kafka Broker List
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-create-a-schema-in-schema-registry" class="md-nav__link">
    <span class="md-ellipsis">
      3. Create a Schema in Schema Registry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-operationalizing-externally-developed-data-flows-with-cdf-pc" class="md-nav__link">
    <span class="md-ellipsis">
      4. Operationalizing Externally Developed Data Flows with CDF-PC
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-deploy-the-flow-in-cdf-pc" class="md-nav__link">
    <span class="md-ellipsis">
      5. Deploy the Flow in CDF-PC
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-end-of-the-exercise" class="md-nav__link">
    <span class="md-ellipsis">
      6. End of the Exercise
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="02-08-migrating-existing-data-flows-to-cdf-pc">02-08 Migrating Existing Data Flows to CDF-PC</h1>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The purpose of this exercise is to demonstrate how existing NiFi flows externally developed (e,g. on local laptops of developers, or pushed from a code repo) can be migrated to the Data Flow. This workshop will leverage an existing NiFi flow template that has been designed with the best practices for CDF-PC flow deployment.</p>
</div>
<p>The existing NiFi Flow will perform the following actions. - Generate random syslogs in 5424 Format.</p>
<ul>
<li>
<p>Convert the incoming data to a JSON using record writers.</p>
</li>
<li>
<p>Apply a SQL filter to the JSON records.</p>
</li>
<li>
<p>Send the transformed syslog messages to Kafka.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A parameter context has already been defined in the flow and the queues have been uniquely named.</p>
</div>
<p>For this we will be leveraging the DataHubs which have already been created - <code>edu-ds-messaging-250204</code>, <code>edu-ds-analytics-250204.</code></p>
<p>Note that the above names might be different depending upon your environment.</p>
<h3 id="1-create-a-kafka-topic">1. Create a Kafka Topic  <a name="KLCaqf06RjzFkU3Y3PMXb"></a></h3>
<h4 id="11-click-on-menu">1.1. Click on Menu   <a name="az63heAWAst7C24o7Xyvz"></a></h4>
<p>Select the Menu option by clicking on the 9 dots. </p>
<p><a class="glightbox" href="images/step-1.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on Menu " src="images/step-1.png" /></a></p>
<h4 id="12-select-management-console">1.2. Select Management Console   <a name="MtzvOyhkeNi6rS_uZbzkD"></a></h4>
<p>Navigate to the Management Console page by clicking the Management Console tile.</p>
<p><a class="glightbox" href="images/step-2.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Select Management Console " src="images/step-2.png" /></a></p>
<h4 id="13-select-environment">1.3. Select Environment   <a name="7tr980Z3M3O1TWSlgQjKn"></a></h4>
<p>Click on the environment. </p>
<p><a class="glightbox" href="images/step-3.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Select Environment " src="images/step-3.png" /></a></p>
<h4 id="14-select-messaging-data-hub">1.4. Select Messaging Data Hub   <a name="R7HarELYJZSLCHcJ40OnY"></a></h4>
<p>Click on the Data Hub for Stream Messaging. For ex: edu-ds-messaging-250204</p>
<p><a class="glightbox" href="images/step-4.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Select Messaging Data Hub " src="images/step-4.png" /></a></p>
<h4 id="15-note-hostname-of-master">1.5. Note Hostname of master  <a name="B-OS7YpL8o26-DXkVGgQj"></a></h4>
<p>Note the hostname of the master server in the Kafka Datahub. This will be used while created a new deployment later in this exercise. </p>
<div class="highlight"><pre><span></span><code>edu-ds-messaging-250204-master0.devops-5.fc0b-8n9t.a6.cloudera.site
</code></pre></div>
<p><a class="glightbox" href="images/step-5.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Note Hostname of master" src="images/step-5.png" /></a></p>
<h4 id="16-login-to-streams-messaging-manager">1.6. Login to Streams Messaging Manager  <a name="6eHfzu8xphxxL5JIYsOh1"></a></h4>
<p>Login to <code>Streams Messaging Manager</code> by clicking the appropriate hyperlink in the Streams Messaging Datahub</p>
<p><a class="glightbox" href="images/step-6.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Login to Streams Messaging Manager" src="images/step-6.png" /></a></p>
<h4 id="17-click-on-topics">1.7. Click on Topics  <a name="xK_UFm-IySiZbpTO7rYcW"></a></h4>
<p>Click on <code>Topics</code> in the left tab.</p>
<p><a class="glightbox" href="images/step-7.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on Topics" src="images/step-7.png" /></a></p>
<h4 id="18-click-on-add-new">1.8. Click on Add New.  <a name="BlUjBO2NzQGBNDVzFqErp"></a></h4>
<p><a class="glightbox" href="images/step-8.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on Add New." src="images/step-8.png" /></a></p>
<h4 id="19-create-a-topic">1.9. Create a Topic  <a name="Uajt0vdshs4CQUtnr5dOE"></a></h4>
<p>Create a Topic with the following parameters. </p>
<ul>
<li>Name: <code>&lt;username&gt;_syslog</code>. </li>
<li>Ex: <code>wuser00_syslog</code>.</li>
<li>Partitions: <code>1</code></li>
<li>Availability: <code>MODERATE</code></li>
<li>Cleanup Policy: <code>delete</code></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Flow will not work if you set the Cleanup Policy to anything other than <code>Delete</code>. This is because we are not specifying keys when writing to Kafka</p>
</div>
<p>Click <strong>Save</strong>.</p>
<p><a class="glightbox" href="images/step-9.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Create a Topic" src="images/step-9.png" /></a></p>
<h4 id="110-review-message">1.10. Review Message  <a name="Orvf2uGp2eOiOZEKNU3ys"></a></h4>
<p>A pop-up message will appear confirming topic has been added.</p>
<p><a class="glightbox" href="images/step-10.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Review Message" src="images/step-10.png" /></a></p>
<h4 id="111-search-for-the-topic">1.11. Search for the topic  <a name="gM-ZGV3jakRfT4k5OkosZ"></a></h4>
<p>You can search for the topic that you created now and look for it as shown here.</p>
<p><a class="glightbox" href="images/step-11.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Search for the topic" src="images/step-11.png" /></a></p>
<h3 id="2-obtain-the-kafka-broker-list">2. Obtain the Kafka Broker List  <a name="W0JwuSj4UzGxpfuZxeaFQ"></a></h3>
<p>We will require the broker list to configure our processors to connect to our Kafka brokers which allows consumers to connect and fetch messages by partition, topic or offset. This information can be found in the Datahub cluster associated to the Streams Messaging Manager. Later in the lab, we will need to have at hand the list of kafka brokers - already configured in this environment- so to be able to our dataflow to publish to our Kafka topics.</p>
<h4 id="21-select-brokers">2.1. Select Brokers   <a name="WhPHRuOYxzft16sxJDr66"></a></h4>
<p>Select <code>Brokers</code> from the left tab.</p>
<p><a class="glightbox" href="images/step-13.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Select Brokers " src="images/step-13.png" /></a></p>
<h4 id="22-save-broker-list">2.2. Save Broker List  <a name="6EPuuiFm5WLdsm3Z7OqZZ"></a></h4>
<p>Save the name of the broker list in a notepad.</p>
<p>Example: </p>
<ul>
<li>edu-ds-messaging-250204-corebroker2.devops-5.fc0b-8n9t.a6.cloudera.site:9093</li>
<li>edu-ds-messaging-250204-corebroker0.devops-5.fc0b-8n9t.a6.cloudera.site:9093</li>
<li>edu-ds-messaging-250204-corebroker1.devops-5.fc0b-8n9t.a6.cloudera.site:9093</li>
</ul>
<p><a class="glightbox" href="images/step-14.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Save Broker List" src="images/step-14.png" /></a></p>
<h3 id="3-create-a-schema-in-schema-registry">3. Create a Schema in Schema Registry  <a name="V77myYu_1itf2MmgqSAMb"></a></h3>
<p>You need to now work on <code>Schema Registry</code>. </p>
<h4 id="31-login-to-schema-registry">3.1. Login to Schema Registry  <a name="712mLCJFhKNCDS3YN-1w3"></a></h4>
<p>Navigate back to Data Hub for Stream Messaging. Login to <code>Schema Registry</code> by clicking the appropriate hyperlink in the Streams Messaging Datahub</p>
<p><a class="glightbox" href="images/step-16.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Login to Schema Registry" src="images/step-16.png" /></a></p>
<h4 id="32-create-a-new-schema">3.2. Create a new schema  <a name="1CIjrvLhOwQywdAKPp6rX"></a></h4>
<p>Click on the <code>+</code> button on the top right to create a new schema.</p>
<p><a class="glightbox" href="images/step-17.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Create a new schema" src="images/step-17.png" /></a></p>
<h4 id="33-fill-in-the-details">3.3. Fill in the details  <a name="ive5kHt6SYLNsh5NNkLrf"></a></h4>
<p>Create a new schema with the following information.</p>
<ul>
<li>Name: <code>&lt;username&gt;_syslog</code></li>
<li>Ex: <code>dse_2_250204_syslog</code></li>
<li>Description: <code>syslog schema for dataflow workshop</code></li>
<li>Type: <code>Avro schema provider</code></li>
<li>Schema Group: <code>Kafka</code></li>
<li>Compatibility: <code>Backward</code></li>
<li>Evolve: <code>True</code></li>
<li>Schema Text: Copy and paste the below schema text below into the <code>Schema Text</code> field.</li>
</ul>
<div class="highlight"><pre><span></span><code>{
 &quot;name&quot;: &quot;syslog&quot;,
 &quot;type&quot;: &quot;record&quot;,
 &quot;namespace&quot;: &quot;com.cloudera&quot;,
 &quot;fields&quot;: [
  {
   &quot;name&quot;: &quot;priority&quot;,
   &quot;type&quot;: &quot;int&quot;
  },
  {
   &quot;name&quot;: &quot;severity&quot;,
   &quot;type&quot;: &quot;int&quot;
  },
  {
   &quot;name&quot;: &quot;facility&quot;,
   &quot;type&quot;: &quot;int&quot;
  },
  {
   &quot;name&quot;: &quot;version&quot;,
   &quot;type&quot;: &quot;int&quot;
  },
  {
   &quot;name&quot;: &quot;timestamp&quot;,
   &quot;type&quot;: &quot;long&quot;
  },
  {
   &quot;name&quot;: &quot;hostname&quot;,
   &quot;type&quot;: &quot;string&quot;
  },
  {
   &quot;name&quot;: &quot;body&quot;,
   &quot;type&quot;: &quot;string&quot;
  },
  {
   &quot;name&quot;: &quot;appName&quot;,
   &quot;type&quot;: &quot;string&quot;
  },
  {
   &quot;name&quot;: &quot;procid&quot;,
   &quot;type&quot;: &quot;string&quot;
  },
  {
   &quot;name&quot;: &quot;messageid&quot;,
   &quot;type&quot;: &quot;string&quot;
  },
  {
   &quot;name&quot;: &quot;structuredData&quot;,
   &quot;type&quot;: {
    &quot;name&quot;: &quot;structuredData&quot;,
    &quot;type&quot;: &quot;record&quot;,
    &quot;fields&quot;: [
     {
      &quot;name&quot;: &quot;SDID&quot;,
      &quot;type&quot;: {
       &quot;name&quot;: &quot;SDID&quot;,
       &quot;type&quot;: &quot;record&quot;,
       &quot;fields&quot;: [
        {
         &quot;name&quot;: &quot;eventId&quot;,
         &quot;type&quot;: &quot;string&quot;
        },
        {
         &quot;name&quot;: &quot;eventSource&quot;,
         &quot;type&quot;: &quot;string&quot;
        },
        {
         &quot;name&quot;: &quot;iut&quot;,
         &quot;type&quot;: &quot;string&quot;
        }
       ]
      }
     }
    ]
   }
  }
 ]
}
</code></pre></div>
<p>N<strong>ote:</strong></p>
<p>The name of the Kafka Topic (Ex: <code>dse_2_250204_syslog</code>) you previously created and the Schema Name must be the same.</p>
<p>Click <strong>Save.</strong></p>
<p><a class="glightbox" href="images/step-18.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Fill in the details" src="images/step-18.png" /></a></p>
<h4 id="34-review-message">3.4. Review Message   <a name="SLhskOH6aTtVukfzoD8Hp"></a></h4>
<p>A pop-up message will appear confirming Schema has been added. </p>
<p><a class="glightbox" href="images/step-19.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Review Message " src="images/step-19.png" /></a></p>
<h3 id="4-operationalizing-externally-developed-data-flows-with-cdf-pc">4. Operationalizing Externally Developed Data Flows with CDF-PC  <a name="KPsoz6WDHUpi9okFh-Frd"></a></h3>
<p>Import the Flow into the CDF-PC Catalog</p>
<h4 id="41-click-on-menu">4.1. Click on Menu   <a name="ZmpoDv73ruDS7h2BSKzQT"></a></h4>
<p>Select the Menu option by clicking on the 9 dots. </p>
<p><a class="glightbox" href="images/step-21.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on Menu " src="images/step-21.png" /></a></p>
<h4 id="42-select-dataflow">4.2. Select DataFlow   <a name="j-1L6POE2EhuJmDnL0_by"></a></h4>
<p>Navigate to the Cloudera DataFlow page by clicking the DataFlow tile in the Cloudera management console.</p>
<p><a class="glightbox" href="images/step-22.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Select DataFlow " src="images/step-22.png" /></a></p>
<h4 id="43-select-catalog">4.3. Select Catalog  <a name="qnh6y9AdNzT_ZQbn49B7c"></a></h4>
<p>Select the Catalog option. </p>
<p><a class="glightbox" href="images/step-23.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Select Catalog" src="images/step-23.png" /></a></p>
<h4 id="44-select-import-flow-definition">4.4. Select Import Flow Definition  <a name="3pSViJd90GluBhLF2TeLO"></a></h4>
<p>Select <code>Import Flow Definition</code> on the Top Right.</p>
<p><a class="glightbox" href="images/step-24.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Select Import Flow Definition" src="images/step-24.png" /></a></p>
<h4 id="45-fill-in-the-details">4.5. Fill in the details   <a name="sIMMHXQEe1qOFh2zBwMhT"></a></h4>
<p>Add the following information.</p>
<ul>
<li><code>Flow Name</code>: <username>_syslog_to_kafka. (Ex: <code>wuser00_syslog_to_kafka</code>)</li>
<li><code>Flow Description</code>: <code>Reads Syslog in RFC 5424 format, applies a SQL filter, transforms the data into JSON records, and publishes to Kafka.</code></li>
<li><code>NiFi Flow Configuration</code>: syslog-to-kafka.json (From the resources downloaded earlier).</li>
<li><code>Version Comments</code>: Initial Version.</li>
</ul>
<p><a class="glightbox" href="images/step-25.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Fill in the details " src="images/step-25.png" /></a></p>
<h4 id="46-upload-file">4.6. Upload File  <a name="p2UfDeTuFACjLzORE9Egj"></a></h4>
<p>Upload the syslog-to-kafka.json script downloaded earlier in step 2 of exercise 02-02 Accessing Environment. </p>
<p>Click <strong>Import</strong>.</p>
<p><a class="glightbox" href="images/step-26.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Upload File" src="images/step-26.png" /></a></p>
<h4 id="47-review-message">4.7. Review Message   <a name="PQQKzGFycTekJragnpv7g"></a></h4>
<p>A pop-up message will appear confirming flow definition has been imported successfully. </p>
<p><a class="glightbox" href="images/step-27.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Review Message " src="images/step-27.png" /></a></p>
<h3 id="5-deploy-the-flow-in-cdf-pc">5. Deploy the Flow in CDF-PC  <a name="y3VH6ZGgbIF_jwQDLO8jX"></a></h3>
<h4 id="51-search-for-the-flow">5.1. Search for the flow  <a name="rWzDKcofldzgpH3PlHvOh"></a></h4>
<p>Search for the flow in the Flow Catalog by typing the flow name that you created in the previous step.</p>
<p><a class="glightbox" href="images/step-29.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Search for the flow" src="images/step-29.png" /></a></p>
<h4 id="52-deploy-the-flow">5.2. Deploy the Flow  <a name="PjIEmgdUAsXD5y1QrK5bM"></a></h4>
<p>Click on the Flow, you should see the following. You should see a <code>Deploy</code> Option appear shortly. Then click on <code>Deploy</code>.</p>
<p><a class="glightbox" href="images/step-30.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Deploy the Flow" src="images/step-30.png" /></a></p>
<h4 id="53-select-target-environment">5.3. Select Target Environment  <a name="Xc6BCRTlF_TnBGGHTMu0Y"></a></h4>
<p>Select the CDP <code>Target Environment</code> (Ex: <code>emeaworkshop-environ</code>) where this flow will be deployed. </p>
<p>Click <strong>Continue.</strong></p>
<p><a class="glightbox" href="images/step-31.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Select Target Environment" src="images/step-31.png" /></a></p>
<h4 id="54-name-the-deployment">5.4. Name the Deployment  <a name="yGPr5oVri9PD-7jmjOwqH"></a></h4>
<p>Give the deployment a unique name (Ex: <code>{user_id}_syslog_to_kafka</code>). </p>
<p>In case the character limit exceeds, you may shorten the name as shown in the next step. </p>
<p><a class="glightbox" href="images/step-32.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Name the Deployment" src="images/step-32.png" /></a></p>
<h4 id="55-name-the-deployment">5.5. Name the Deployment  <a name="w368gGAI0vyArHCAhpXUb"></a></h4>
<p>Removed extra '_' from the name so as to meet the character limit for the deployment name.</p>
<p>Click <strong>Next.</strong></p>
<p><a class="glightbox" href="images/step-33.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Name the Deployment" src="images/step-33.png" /></a></p>
<h4 id="56-click-next">5.6. Click Next  <a name="P81fpz74Z7PPu7-9gHUM2"></a></h4>
<p>In the NiFi Configuration screen, click <strong>Next</strong> to take the default parameters.</p>
<p><a class="glightbox" href="images/step-34.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click Next" src="images/step-34.png" /></a></p>
<h4 id="57-add-the-flow-parameters">5.7. Add the Flow Parameters  <a name="57FMrWMsX3X1-WgZd-ctz"></a></h4>
<p>Add the Flow Parameters as below.</p>
<p>Note that you might have to navigate to multiple screens to fill it. Then click <code>Next</code>.</p>
<ul>
<li><code>CDP Workload User</code>: The workload username for the current user. (Ex: <code>dse_2_250204</code>)</li>
<li><code>CDP Workload Password</code>: The workload password for the current user (This password was set by you earlier).</li>
<li><code>Filter Rule</code>: <code>SELECT * FROM FLOWFILE</code>.</li>
</ul>
<p><a class="glightbox" href="images/step-35.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Add the Flow Parameters" src="images/step-35.png" /></a></p>
<h4 id="58-add-the-flow-parameters">5.8. Add the Flow Parameters  <a name="kaWj0q-WHNZaZZrjpMM_V"></a></h4>
<ul>
<li><code>Kafka Broker Endpoint</code>: The list of Kafka Brokers previously noted, which is comma separated as shown below.</li>
<li><strong>Example</strong>: edu-ds-messaging-250204-corebroker2.devops-5.fc0b-8n9t.a6.cloudera.site:9093,edu-ds-messaging-250204-corebroker0.devops-5.fc0b-8n9t.a6.cloudera.site:9093,edu-ds-messaging-250204-corebroker1.devops-5.fc0b-8n9t.a6.cloudera.site:9093</li>
<li><code>Kafka Destination Topic</code>: username_syslog (Ex: <code>dse_2_250204_syslog</code>)</li>
<li><code>Kafka Producer ID</code>: nifi_dfx_p1</li>
<li><code>Schema Name</code>: username-syslog (Ex: <code>dse_2_250204_syslog</code>)</li>
<li><code>Schema Registry Hostname</code>: The hostname of the master server in the Kafka Datahub (You have noted the hostname earlier in Step 1.6 in this exercise).</li>
<li>Example: edu-ds-messaging-250204-master0.devops-5.fc0b-8n9t.a6.cloudera.site</li>
</ul>
<p>Click <strong>Next.</strong></p>
<p><a class="glightbox" href="images/step-36.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Add the Flow Parameters" src="images/step-36.png" /></a></p>
<h4 id="59-define-sizing-and-scaling">5.9. Define sizing and scaling  <a name="K1hoeRd4bWncGdCZ0LD1X"></a></h4>
<p>On the next page, define sizing and scaling details. </p>
<ul>
<li><code>Size</code>: <code>Extra Small</code></li>
<li><code>Auto Scaling</code>: <code>Enabled</code></li>
<li><code>Min Nodes</code>: <code>1</code></li>
<li><code>Max Nodes</code>: <code>3</code></li>
</ul>
<p>Click <strong>Next.</strong></p>
<p><a class="glightbox" href="images/step-37.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Define sizing and scaling" src="images/step-37.png" /></a></p>
<h4 id="510-skip-the-kpi">5.10. Skip the KPI  <a name="DIHNtWYl_YmWj9cGCNP9h"></a></h4>
<p>Skip the KPI page by clicking <strong>Next</strong></p>
<p><a class="glightbox" href="images/step-38.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Skip the KPI" src="images/step-38.png" /></a></p>
<h4 id="511-review-deployment">5.11. Review deployment  <a name="dCv_ztWyPrn094LiWoxmL"></a></h4>
<p>Review your deployment. Then Click <strong>Deploy</strong>.</p>
<p><a class="glightbox" href="images/step-39.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Review deployment" src="images/step-39.png" /></a></p>
<h4 id="512-proceed-to-the-cdf-pc-dashboard">5.12. Proceed to the CDF-PC Dashboard  <a name="faOLWUfq2qD2occTAlQPz"></a></h4>
<p>Proceed to the CDF-PC Dashboard and wait for your flow deployment to complete. A Green Check Mark will appear once complete, which might take a few minutes.</p>
<p><a class="glightbox" href="images/step-40.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Proceed to the CDF-PC Dashboard" src="images/step-40.png" /></a></p>
<h4 id="513-review-deployment">5.13. Review Deployment   <a name="SJUHIOJjzpsZ1sbiKxiTe"></a></h4>
<p>When deployed, the flow will show up on the Data flow dashboard, as below.</p>
<p><a class="glightbox" href="images/step-41.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Review Deployment " src="images/step-41.png" /></a></p>
<h4 id="514-view-system-metrics">5.14. View System Metrics  <a name="BwuTJfCF-aN5KC3xKcL52"></a></h4>
<p>Click on System Metrics tab to view system metrics</p>
<p><a class="glightbox" href="images/step-42.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="View System Metrics" src="images/step-42.png" /></a></p>
<h3 id="6-end-of-the-exercise">6. End of the Exercise   <a name="F_hpOKR4fHoXtc3t0kant"></a></h3>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Cloudera Inc. 2025
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>