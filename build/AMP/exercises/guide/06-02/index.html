
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Cloudera Education">
      
      
      
        <link rel="prev" href="../06-01/index.html">
      
      
        <link rel="next" href="../07-01/index.html">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>06-02 End-to-End Stock Data Processing with Cloudera - DENG-259: Building Solutions with Cloudera Data Services</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#end-to-end-alphaa-vantage-stocks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="DENG-259: Building Solutions with Cloudera Data Services" class="md-header__button md-logo" aria-label="DENG-259: Building Solutions with Cloudera Data Services" data-md-component="logo">
      
  <img src="../../assets/images/logo-cloudera-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DENG-259: Building Solutions with Cloudera Data Services
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              06-02 End-to-End Stock Data Processing with Cloudera
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="DENG-259: Building Solutions with Cloudera Data Services" class="md-nav__button md-logo" aria-label="DENG-259: Building Solutions with Cloudera Data Services" data-md-component="logo">
      
  <img src="../../assets/images/logo-cloudera-white.svg" alt="logo">

    </a>
    DENG-259: Building Solutions with Cloudera Data Services
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Course Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Table of Contents
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    01 Get Aboard
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            01 Get Aboard
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01-01 Get Aboard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01-02 Getting Aboard
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    02 Using Cloudera Data Flow
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            02 Using Cloudera Data Flow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-01 Using Cloudera Data Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-02 Accessing Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-03/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-03 Define Workload Password
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-04/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-04 Verify permissions in Apache Ranger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-05/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-05 Create a Flow using Flow Designer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-06/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-06 Testing the flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-07/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-07 Moving the flow to the flow catalog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-08/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-08 Migrating Existing Data Flows to CDF-PC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-09/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-09 Managing KeyTabs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-10/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02-10 Working on SQL Steam Builder Project
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    03 Using Cloudera Data Engineering - Airflow
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            03 Using Cloudera Data Engineering - Airflow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03-01 Using Cloudera Data Engineering - Airflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03-02 Accessing Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-03/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03-03 Building Your First CDE Airflow DAG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-04/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03-04 Beyond Airflow for Spark Jobs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-05/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03-05 More Airflow DAG Features
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    04 Using Cloudera Data Warehouse
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            04 Using Cloudera Data Warehouse
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04-01 Using Cloudera Data Warehouse
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04-02 Introdction and Access
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-03/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04-03 CDW raw layer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-04/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04-04 Datalakehouse Hive and Iceberg
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-05/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04-05 Performance Optimization & Lakehouse Maintenance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-06/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04-06 Data Visualization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    05 Using Cloudera AI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            05 Using Cloudera AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05-01 Using Cloudera AI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05-02 MLOps in Cloudera AI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    06 Integrating Cloudera Data Services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            06 Integrating Cloudera Data Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06-01 Use Case: Stock Data Analysis Using Cloudera
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    06-02 End-to-End Stock Data Processing with Cloudera
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="index.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    06-02 End-to-End Stock Data Processing with Cloudera
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-end-to-end-alphaa-vantage-stocks" class="md-nav__link">
    <span class="md-ellipsis">
      1. End to end alphaa vantage stocks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-high-level-steps" class="md-nav__link">
    <span class="md-ellipsis">
      2. High-Level Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      3. Pre-requisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-download-the-exercise-files" class="md-nav__link">
    <span class="md-ellipsis">
      4. Download the exercise files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#41-use-any-unzip-utility-to-download-extract-the-content-of-the-e2e-cdp-alphavantagezip-file" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Use any unzip utility to download extract the content of the e2e-cdp-alphavantage.zip file.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-get-alpha-vantage-key" class="md-nav__link">
    <span class="md-ellipsis">
      5. Get Alpha Vantage Key
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#51-fill-the-details" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Fill the details:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#52-you-should-see-a-message-like-welcome-to-alpha-vantage-your-dedicated-access-key-is-yxxxxxxxxxxxxxxe" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 You should see a message like - Welcome to Alpha Vantage! Your dedicated access key is: YXXXXXXXXXXXXXXE.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-define-workload-password" class="md-nav__link">
    <span class="md-ellipsis">
      6. Define Workload Password
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#61-click-option-set-workload-password" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 Click option Set Workload Password.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    <span class="md-ellipsis">
      6.2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#63-check-that-you-got-the-message-workload-password-is-currently-set-or-alternatively-look-for-a-message-next-to-workload-password-which-says-workload-password-is-currently-set" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 Check that you got the message - Workload password is currently set or alternatively, look for a message next to Workload Password which says (Workload password is currently set)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-create-the-flow-to-ingest-stock-data-via-api-to-object-storage" class="md-nav__link">
    <span class="md-ellipsis">
      7. Create the flow to ingest stock data via API to Object Storage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-click-on-dataflow-icon-as-shown-in-the-image-below" class="md-nav__link">
    <span class="md-ellipsis">
      8. Click on DataFlow icon as shown in the image below.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-create-a-new-cdf-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      9. Create a new CDF Catalog
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-fill-up-those-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      10. Fill up those parameters :
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-the-new-catalog-has-been-added-type-in-the-name-so-that-you-can-only-see-the-one-that-you-had-created-and-not-the-others-for-example-user1-stock-data" class="md-nav__link">
    <span class="md-ellipsis">
      11. The new catalog has been added. Type in the name so that you can only see the one that you had created and not the others. For example - user1-stock-data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-deploy-dataflow" class="md-nav__link">
    <span class="md-ellipsis">
      12. Deploy DataFlow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-you-will-need-to-select-your-environment" class="md-nav__link">
    <span class="md-ellipsis">
      13. You will need to select your environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-give-a-name-to-this-dataflow" class="md-nav__link">
    <span class="md-ellipsis">
      14. Give a name to this dataflow.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-click-next" class="md-nav__link">
    <span class="md-ellipsis">
      15. Click Next.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-update-parameter-as-below" class="md-nav__link">
    <span class="md-ellipsis">
      16. Update parameter as below
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17-nifi-node-sizing-extra-small" class="md-nav__link">
    <span class="md-ellipsis">
      17. Nifi Node Sizing : Extra Small
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#18-you-can-define-kpis-in-regards-what-has-been-specified-in-your-dataflow-but-we-will-skip-this-for-now-click-next" class="md-nav__link">
    <span class="md-ellipsis">
      18. You can define KPI's in regards what has been specified in your dataflow, but we will skip this for now. Click Next→
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#19-click-deploy-to-launch-the-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      19. Click Deploy to launch the deployment.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-the-deployment-will-get-initiated-check-the-deployment-on-the-run-and-look-for-the-status-good-health" class="md-nav__link">
    <span class="md-ellipsis">
      20. The deployment will get initiated. Check the deployment on the run and look for the status Good Health.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      21.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-dataflow-is-up-and-running-and-you-can-confirm-the-same-by-looking-at-the-green-tick-and-message-good-health-against-the-dataflow-name-its-will-take-7-minutes-before-you-see-the-green-tick-notice-the-event-history-and-there-are-approximately-8-steps-that-happen-after-the-flow-deployment-you-might-want-to-observe-those" class="md-nav__link">
    <span class="md-ellipsis">
      22. Dataflow is up and running and you can confirm the same by looking at the green tick and message Good Health against the dataflow name. It’s will take ~7 minutes before you see the green tick. Notice the Event History and there are approximately 8 steps that happen after the flow deployment. You might want to observe those.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      23.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#24-after-the-successful-deployment-we-will-start-receiving-stock-information-into-our-bucket-if-you-want-you-can-check-in-your-bucket-under-the-path-s3auserusernamestocksnew" class="md-nav__link">
    <span class="md-ellipsis">
      24. After the successful deployment we will start receiving stock information into our bucket. If you want you can check in your bucket under the path s3a:///user/(username)/stocks/new.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#25-you-can-verify-the-s3-buck-bucket-by-running-below-command" class="md-nav__link">
    <span class="md-ellipsis">
      25. you can verify the s3 buck bucket by running below command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#26-get-storage-location" class="md-nav__link">
    <span class="md-ellipsis">
      26. Get storage location
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#27-click-on-summary-tab-scroll-down" class="md-nav__link">
    <span class="md-ellipsis">
      27. Click on Summary tab &amp; scroll down
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#28-copy-storage-location-and-add-it-to-below-command" class="md-nav__link">
    <span class="md-ellipsis">
      28. Copy storage location and add it to below command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#29-login-to-datahub-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      29. Login to Datahub cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30" class="md-nav__link">
    <span class="md-ellipsis">
      30.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#31-login-to-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      31. Login to Nodes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-verify-files-in-s3-bucket" class="md-nav__link">
    <span class="md-ellipsis">
      32. Verify files in s3 bucket
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-view-nifi-dataflow" class="md-nav__link">
    <span class="md-ellipsis">
      33. View Nifi DataFlow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-select-actions-view-in-nifi-on-top-right-corner" class="md-nav__link">
    <span class="md-ellipsis">
      34. Select Actions → View in NiFi on top right corner.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-double-click-on-the-process-group" class="md-nav__link">
    <span class="md-ellipsis">
      35. Double click on the Process group.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-you-can-see-the-nifi-data-flow-that-has-been-deployed-from-the-json-file-you-can-click-each-of-the-processor-groups-to-go-inside-and-see-the-flow-details-make-sure-that-there-are-no-errors-in-the-flow-if-you-see-any-please-let-the-instructor-know" class="md-nav__link">
    <span class="md-ellipsis">
      36. You can see the Nifi data flow that has been deployed from the json file. You can click each of the processor groups to go inside and see the flow details. Make sure that there are no errors in the flow. If you see any please let the instructor know
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#37-at-this-stage-you-can-suspend-this-dataflow-go-back-to-actions-manage-deploymentdeployment-manager-actions-stop-flow-we-will-add-a-new-stock-later-and-restart-it" class="md-nav__link">
    <span class="md-ellipsis">
      37. At this stage you can suspend this dataflow, go back to Actions &gt; Manage deployment&gt;Deployment Manager -&gt; Actions -&gt; Stop flow. We will add a new stock later and restart it.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#38-stop-flow" class="md-nav__link">
    <span class="md-ellipsis">
      38. Stop flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#39" class="md-nav__link">
    <span class="md-ellipsis">
      39.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#40-confirm-that-the-status-is-stopped" class="md-nav__link">
    <span class="md-ellipsis">
      40. Confirm that the status is Stopped.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#41-create-iceberg-table" class="md-nav__link">
    <span class="md-ellipsis">
      41. Create Iceberg Table
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#42-from-the-cdp-portal-or-cdp-menu-choose-data-warehouse" class="md-nav__link">
    <span class="md-ellipsis">
      42. From the CDP Portal or CDP Menu choose Data Warehouse.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#43-from-the-cdw-overview-window-click-the-hue-button-on-the-right-corner-as-shown-under-the-virtual-warehouses-to-the-right" class="md-nav__link">
    <span class="md-ellipsis">
      43. From the CDW Overview window, click the "HUE" button on the right corner as shown under the Virtual Warehouses to the right.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#44-now-youre-accessing-to-the-sql-editor-called-hue-hadoop-user-experience" class="md-nav__link">
    <span class="md-ellipsis">
      44. Now you’re accessing to the sql editor called - "HUE" (Hadoop User Experience).
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#45-create-database-using-your-login-for-example-wuser00-replace-user_id-by-your-username-for-database-creation-in-the-command-below" class="md-nav__link">
    <span class="md-ellipsis">
      45. Create database using your login For example: wuser00. Replace user_id by your username for database creation in the command below.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#46-after-creating-the-database-create-an-iceberg-table-replace-user_id-by-your-username-for-iceberg-table-creation-in-the-hue-browser-similar-to-previous-step" class="md-nav__link">
    <span class="md-ellipsis">
      46. After creating the database create an Iceberg table. Replace user_id by your username for iceberg table creation in the HUE browser similar to previous step.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#47-process-and-ingest-iceberg-using-cde" class="md-nav__link">
    <span class="md-ellipsis">
      47. Process and Ingest Iceberg using CDE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#48-click-on-home-option-on-top-left-corner-to-go-to-the-landing-page" class="md-nav__link">
    <span class="md-ellipsis">
      48. Click on Home option on top left corner to go to the landing page.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#49-from-the-cdp-portal-or-cdp-menu-choose-data-engineering" class="md-nav__link">
    <span class="md-ellipsis">
      49. From the CDP Portal or CDP Menu choose Data Engineering.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#50-lets-create-a-job-click-on-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      50. Let’s create a job. Click on Jobs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#51-fill-the-following-values-carefully" class="md-nav__link">
    <span class="md-ellipsis">
      51. Fill the following values carefully.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      52.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#53-click-the-create-and-run-button-at-the-bottom-there-is-no-screenshot-for-the-same-note-it-might-take-3-minutes-so-its-okay-to-wait-until-its-done" class="md-nav__link">
    <span class="md-ellipsis">
      53. Click the Create and Run button at the bottom. (There is no screenshot for the same). Note: It might take ~3 minutes. So, it’s okay to wait until it’s done.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#54-after-execution-the-processed-files-will-be-in-your-bucket-but-under-the-name-which-has-the-format-processeddate" class="md-nav__link">
    <span class="md-ellipsis">
      54. After execution, the processed files will be in your bucket but under the name which has the format - processed"+date/.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#55-checking-logs-of-cde-job-run" class="md-nav__link">
    <span class="md-ellipsis">
      55. Checking Logs of CDE Job Run
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#56-click-on-the-run-id" class="md-nav__link">
    <span class="md-ellipsis">
      56. Click on the Run Id.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#57-click-the-logs-and-go-through-the-stdout-to-understand-better" class="md-nav__link">
    <span class="md-ellipsis">
      57. Click the Logs and go through the stdout to understand better.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#58-optional-you-can-aslo-verify-that-using-below-hdfs-command" class="md-nav__link">
    <span class="md-ellipsis">
      58. (optional) You can aslo verify that using below hdfs command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#59-create-dashboard-using-cdp-dataviz" class="md-nav__link">
    <span class="md-ellipsis">
      59. Create Dashboard using CDP DataViz
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#60-click-on-home-option-on-top-left-corner-to-go-to-the-landing-page" class="md-nav__link">
    <span class="md-ellipsis">
      60. Click on Home option on top left corner to go to the landing page.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#61-from-the-cdp-portal-or-cdp-menu-choose-data-warehouse" class="md-nav__link">
    <span class="md-ellipsis">
      61. From the CDP Portal or CDP Menu choose Data Warehouse.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#62-then-click-on-the-data-visualization-option-in-the-left-window-pane-youll-see-an-option-data-viz-next-to-the-data-viz-application-with-the-name-dataviz-it-should-open-a-new-window" class="md-nav__link">
    <span class="md-ellipsis">
      62. Then click on the Data Visualization option in the left window pane. You’ll see an option Data VIZ next to the data-viz application with the name dataviz. It should open a new window.+
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#63-you-will-access-to-the-following-window" class="md-nav__link">
    <span class="md-ellipsis">
      63. You will access to the following window.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#64-choose-data-on-the-upper-menu-bar-next-to-the-options-of-home-sql-visuals" class="md-nav__link">
    <span class="md-ellipsis">
      64. Choose DATA on the upper menu bar next to the options of HOME, SQL, VISUALS.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#65-fill-the-below-deatils" class="md-nav__link">
    <span class="md-ellipsis">
      65. Fill the below deatils.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#66-you-will-see-your-connection-in-the-all-connections-list" class="md-nav__link">
    <span class="md-ellipsis">
      66. You will see your connection in the All connections list
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#67-replace-user-with-your-username-wherever-it-is-applicable" class="md-nav__link">
    <span class="md-ellipsis">
      67. Replace (user) with your username wherever it is applicable.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#68-select-new-dashboard-icon-next-to-the-table-that-you-created-just-now" class="md-nav__link">
    <span class="md-ellipsis">
      68. Select "New Dashboard" -&gt; icon next to the Table that you created just now.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#69-youll-land-in-the-following-page" class="md-nav__link">
    <span class="md-ellipsis">
      69. You’ll land in the following page.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#70-lets-drag-from-data-section-on-the-right-under-dashboard-designer-the-following-attributemetric-and-the-refresh-the-visual" class="md-nav__link">
    <span class="md-ellipsis">
      70. Let’s drag from DATA section on the right under Dashboard Designer the following attribute/metric. And the REFRESH THE VISUAL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#71-then-on-visuals-choose-packed-bubbles" class="md-nav__link">
    <span class="md-ellipsis">
      71. Then on VISUALS choose Packed Bubbles.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#72-make-it-public-by-changing-the-option-from-private-to-public-save-it-by-clicking-the-save-button-on-the-top" class="md-nav__link">
    <span class="md-ellipsis">
      72. Make it PUBLIC by changing the option from PRIVATE to PUBLIC. Save it by clicking the SAVE button on the top.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#73-query-iceberg-tables-in-hue-and-cloudera-data-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      73. Query Iceberg Tables in Hue and Cloudera Data Visualization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#74-logging-into-hue" class="md-nav__link">
    <span class="md-ellipsis">
      74. Logging into Hue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#75-now-youre-accessing-to-the-sql-editor-called-hue-make-sure-that-you-can-see-impala" class="md-nav__link">
    <span class="md-ellipsis">
      75. Now you’re accessing to the sql editor called "HUE". Make sure that you can see Impala.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#76-iceberg-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      76. Iceberg snapshots
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#77-copy-the-snapshot-id-to-your-notepad" class="md-nav__link">
    <span class="md-ellipsis">
      77. Copy the snapshot id to your notepad
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#78-copy-and-paste-the-snapshot_id-and-use-it-on-the-following-impala-queries-replace-user_id-with-your-username-for-example-wuser00" class="md-nav__link">
    <span class="md-ellipsis">
      78. Copy and paste the snapshot_id and use it on the following impala queries. Replace user_id with your username. For example: wuser00.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#79-add-a-new-stock-nvda" class="md-nav__link">
    <span class="md-ellipsis">
      79. Add a New stock (NVDA)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#80-go-to-cloudera-data-flow-option-and-look-for-the-flow-that-you-had-created-earlier-based-on-your-user-name-ex-wuser00_stock_dataflow" class="md-nav__link">
    <span class="md-ellipsis">
      80. Go to Cloudera Data Flow option and look for the flow that you had created earlier based on your user name. Ex - wuser00_stock_dataflow.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#81-click-on-the-arrow-towards-the-right-side-of-the-flow-and-then-click-on-actions-manage-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      81. Click on the arrow towards the right side of the flow and then click on Actions → Manage Deployment.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#82-click-on-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      82. Click on parameter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#83-click-on-the-parameters-tab-and-then-scroll-down-to-the-text-box-where-you-had-entered-stock-tickers-stock_list" class="md-nav__link">
    <span class="md-ellipsis">
      83. Click on the Parameters tab and then scroll down to the text box where you had entered stock tickers (stock_list).
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#84-add-the-stock-nvda-and-then-click-on-apply-changes" class="md-nav__link">
    <span class="md-ellipsis">
      84. Add the stock NVDA. And then click on Apply Changes.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#85" class="md-nav__link">
    <span class="md-ellipsis">
      85.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#86-now-start-the-flow-again-by-clicking-actions-and-then-start-flow" class="md-nav__link">
    <span class="md-ellipsis">
      86. Now, start the flow again by clicking Actions and then Start flow.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#87" class="md-nav__link">
    <span class="md-ellipsis">
      87.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#88" class="md-nav__link">
    <span class="md-ellipsis">
      88.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#89-the-s3-bucket-gets-updated-with-new-data-and-this-time-it-includes-the-new-ticker-nvda-as-well-we-will-see-it-you-can-see-the-same-in-s3-bucket-as-shown-here" class="md-nav__link">
    <span class="md-ellipsis">
      89. The S3 bucket gets updated with new data and this time it includes the new ticker NVDA as well. We will see it. You can see the same in S3 bucket as shown here.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#90" class="md-nav__link">
    <span class="md-ellipsis">
      90.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#91-you-can-verify-the-same-by-running-hdfs-command-similar-to-previous-step" class="md-nav__link">
    <span class="md-ellipsis">
      91. You can verify the same by running hdfs command similar to previous step
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#92" class="md-nav__link">
    <span class="md-ellipsis">
      92.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#93-now-go-to-cloudera-data-engineering-from-the-home-page-and-jobs-choose-the-cde-job-that-you-had-created-earlier-with-your-username" class="md-nav__link">
    <span class="md-ellipsis">
      93. Now go to Cloudera Data Engineering from the home page and Jobs. Choose the CDE Job that you had created earlier with your username.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#94" class="md-nav__link">
    <span class="md-ellipsis">
      94.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#95-click-the-3-dots-next-to-your-job-that-you-had-created-earloer-and-then-click-on-run-now" class="md-nav__link">
    <span class="md-ellipsis">
      95. Click the 3 dots next to your job that you had created earloer and then click on Run Now.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#96-click-on-job-runs-in-the-left-to-see-the-status-of-the-job-that-was-initiated-now-it-should-succeed" class="md-nav__link">
    <span class="md-ellipsis">
      96. Click on Job Runs in the left to see the status of the job that was initiated now. It should succeed.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#97-as-cdf-has-ingested-a-new-stock-value-and-then-cde-has-merged-those-value-it-has-created-new-iceberg-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      97. As CDF has ingested a new stock value and then CDE has merged those value it has created new Iceberg snapshots.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#98-check-new-snapshot-history" class="md-nav__link">
    <span class="md-ellipsis">
      98. Check new snapshot history
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#99-paste-the-new-snapshot_id-and-use-it-on-the-following-impala-query" class="md-nav__link">
    <span class="md-ellipsis">
      99. Paste the new snapshot_id and use it on the following impala query.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#100-show-data-files" class="md-nav__link">
    <span class="md-ellipsis">
      100. Show Data Files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#101-check-the-iceberg-table-replace-user_id-with-your-username-for-example-wuser00" class="md-nav__link">
    <span class="md-ellipsis">
      101. Check the Iceberg table. Replace user_id with your username. For example: wuser00.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#102-note-please-make-sure-that-the-data-flow-that-was-created-by-you-is-suspended-else-it-will-be-running-continously-to-suspend-the-flow-do-the-following" class="md-nav__link">
    <span class="md-ellipsis">
      102. Note: 🔴 Please make sure that the data flow that was created by you is Suspended else it will be running continously. To suspend the flow, do the following.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#103" class="md-nav__link">
    <span class="md-ellipsis">
      103.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#104" class="md-nav__link">
    <span class="md-ellipsis">
      104.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#105" class="md-nav__link">
    <span class="md-ellipsis">
      105.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#106-end-of-exercise" class="md-nav__link">
    <span class="md-ellipsis">
      106. End of exercise.
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    07 Course Summary
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            07 Course Summary
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    07-01 Course Summary
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-end-to-end-alphaa-vantage-stocks" class="md-nav__link">
    <span class="md-ellipsis">
      1. End to end alphaa vantage stocks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-high-level-steps" class="md-nav__link">
    <span class="md-ellipsis">
      2. High-Level Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      3. Pre-requisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-download-the-exercise-files" class="md-nav__link">
    <span class="md-ellipsis">
      4. Download the exercise files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#41-use-any-unzip-utility-to-download-extract-the-content-of-the-e2e-cdp-alphavantagezip-file" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Use any unzip utility to download extract the content of the e2e-cdp-alphavantage.zip file.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-get-alpha-vantage-key" class="md-nav__link">
    <span class="md-ellipsis">
      5. Get Alpha Vantage Key
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#51-fill-the-details" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Fill the details:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#52-you-should-see-a-message-like-welcome-to-alpha-vantage-your-dedicated-access-key-is-yxxxxxxxxxxxxxxe" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 You should see a message like - Welcome to Alpha Vantage! Your dedicated access key is: YXXXXXXXXXXXXXXE.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-define-workload-password" class="md-nav__link">
    <span class="md-ellipsis">
      6. Define Workload Password
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#61-click-option-set-workload-password" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 Click option Set Workload Password.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    <span class="md-ellipsis">
      6.2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#63-check-that-you-got-the-message-workload-password-is-currently-set-or-alternatively-look-for-a-message-next-to-workload-password-which-says-workload-password-is-currently-set" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 Check that you got the message - Workload password is currently set or alternatively, look for a message next to Workload Password which says (Workload password is currently set)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-create-the-flow-to-ingest-stock-data-via-api-to-object-storage" class="md-nav__link">
    <span class="md-ellipsis">
      7. Create the flow to ingest stock data via API to Object Storage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-click-on-dataflow-icon-as-shown-in-the-image-below" class="md-nav__link">
    <span class="md-ellipsis">
      8. Click on DataFlow icon as shown in the image below.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-create-a-new-cdf-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      9. Create a new CDF Catalog
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-fill-up-those-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      10. Fill up those parameters :
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-the-new-catalog-has-been-added-type-in-the-name-so-that-you-can-only-see-the-one-that-you-had-created-and-not-the-others-for-example-user1-stock-data" class="md-nav__link">
    <span class="md-ellipsis">
      11. The new catalog has been added. Type in the name so that you can only see the one that you had created and not the others. For example - user1-stock-data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-deploy-dataflow" class="md-nav__link">
    <span class="md-ellipsis">
      12. Deploy DataFlow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-you-will-need-to-select-your-environment" class="md-nav__link">
    <span class="md-ellipsis">
      13. You will need to select your environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-give-a-name-to-this-dataflow" class="md-nav__link">
    <span class="md-ellipsis">
      14. Give a name to this dataflow.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-click-next" class="md-nav__link">
    <span class="md-ellipsis">
      15. Click Next.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-update-parameter-as-below" class="md-nav__link">
    <span class="md-ellipsis">
      16. Update parameter as below
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17-nifi-node-sizing-extra-small" class="md-nav__link">
    <span class="md-ellipsis">
      17. Nifi Node Sizing : Extra Small
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#18-you-can-define-kpis-in-regards-what-has-been-specified-in-your-dataflow-but-we-will-skip-this-for-now-click-next" class="md-nav__link">
    <span class="md-ellipsis">
      18. You can define KPI's in regards what has been specified in your dataflow, but we will skip this for now. Click Next→
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#19-click-deploy-to-launch-the-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      19. Click Deploy to launch the deployment.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-the-deployment-will-get-initiated-check-the-deployment-on-the-run-and-look-for-the-status-good-health" class="md-nav__link">
    <span class="md-ellipsis">
      20. The deployment will get initiated. Check the deployment on the run and look for the status Good Health.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      21.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-dataflow-is-up-and-running-and-you-can-confirm-the-same-by-looking-at-the-green-tick-and-message-good-health-against-the-dataflow-name-its-will-take-7-minutes-before-you-see-the-green-tick-notice-the-event-history-and-there-are-approximately-8-steps-that-happen-after-the-flow-deployment-you-might-want-to-observe-those" class="md-nav__link">
    <span class="md-ellipsis">
      22. Dataflow is up and running and you can confirm the same by looking at the green tick and message Good Health against the dataflow name. It’s will take ~7 minutes before you see the green tick. Notice the Event History and there are approximately 8 steps that happen after the flow deployment. You might want to observe those.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      23.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#24-after-the-successful-deployment-we-will-start-receiving-stock-information-into-our-bucket-if-you-want-you-can-check-in-your-bucket-under-the-path-s3auserusernamestocksnew" class="md-nav__link">
    <span class="md-ellipsis">
      24. After the successful deployment we will start receiving stock information into our bucket. If you want you can check in your bucket under the path s3a:///user/(username)/stocks/new.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#25-you-can-verify-the-s3-buck-bucket-by-running-below-command" class="md-nav__link">
    <span class="md-ellipsis">
      25. you can verify the s3 buck bucket by running below command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#26-get-storage-location" class="md-nav__link">
    <span class="md-ellipsis">
      26. Get storage location
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#27-click-on-summary-tab-scroll-down" class="md-nav__link">
    <span class="md-ellipsis">
      27. Click on Summary tab &amp; scroll down
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#28-copy-storage-location-and-add-it-to-below-command" class="md-nav__link">
    <span class="md-ellipsis">
      28. Copy storage location and add it to below command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#29-login-to-datahub-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      29. Login to Datahub cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30" class="md-nav__link">
    <span class="md-ellipsis">
      30.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#31-login-to-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      31. Login to Nodes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-verify-files-in-s3-bucket" class="md-nav__link">
    <span class="md-ellipsis">
      32. Verify files in s3 bucket
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-view-nifi-dataflow" class="md-nav__link">
    <span class="md-ellipsis">
      33. View Nifi DataFlow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-select-actions-view-in-nifi-on-top-right-corner" class="md-nav__link">
    <span class="md-ellipsis">
      34. Select Actions → View in NiFi on top right corner.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-double-click-on-the-process-group" class="md-nav__link">
    <span class="md-ellipsis">
      35. Double click on the Process group.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-you-can-see-the-nifi-data-flow-that-has-been-deployed-from-the-json-file-you-can-click-each-of-the-processor-groups-to-go-inside-and-see-the-flow-details-make-sure-that-there-are-no-errors-in-the-flow-if-you-see-any-please-let-the-instructor-know" class="md-nav__link">
    <span class="md-ellipsis">
      36. You can see the Nifi data flow that has been deployed from the json file. You can click each of the processor groups to go inside and see the flow details. Make sure that there are no errors in the flow. If you see any please let the instructor know
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#37-at-this-stage-you-can-suspend-this-dataflow-go-back-to-actions-manage-deploymentdeployment-manager-actions-stop-flow-we-will-add-a-new-stock-later-and-restart-it" class="md-nav__link">
    <span class="md-ellipsis">
      37. At this stage you can suspend this dataflow, go back to Actions &gt; Manage deployment&gt;Deployment Manager -&gt; Actions -&gt; Stop flow. We will add a new stock later and restart it.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#38-stop-flow" class="md-nav__link">
    <span class="md-ellipsis">
      38. Stop flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#39" class="md-nav__link">
    <span class="md-ellipsis">
      39.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#40-confirm-that-the-status-is-stopped" class="md-nav__link">
    <span class="md-ellipsis">
      40. Confirm that the status is Stopped.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#41-create-iceberg-table" class="md-nav__link">
    <span class="md-ellipsis">
      41. Create Iceberg Table
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#42-from-the-cdp-portal-or-cdp-menu-choose-data-warehouse" class="md-nav__link">
    <span class="md-ellipsis">
      42. From the CDP Portal or CDP Menu choose Data Warehouse.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#43-from-the-cdw-overview-window-click-the-hue-button-on-the-right-corner-as-shown-under-the-virtual-warehouses-to-the-right" class="md-nav__link">
    <span class="md-ellipsis">
      43. From the CDW Overview window, click the "HUE" button on the right corner as shown under the Virtual Warehouses to the right.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#44-now-youre-accessing-to-the-sql-editor-called-hue-hadoop-user-experience" class="md-nav__link">
    <span class="md-ellipsis">
      44. Now you’re accessing to the sql editor called - "HUE" (Hadoop User Experience).
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#45-create-database-using-your-login-for-example-wuser00-replace-user_id-by-your-username-for-database-creation-in-the-command-below" class="md-nav__link">
    <span class="md-ellipsis">
      45. Create database using your login For example: wuser00. Replace user_id by your username for database creation in the command below.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#46-after-creating-the-database-create-an-iceberg-table-replace-user_id-by-your-username-for-iceberg-table-creation-in-the-hue-browser-similar-to-previous-step" class="md-nav__link">
    <span class="md-ellipsis">
      46. After creating the database create an Iceberg table. Replace user_id by your username for iceberg table creation in the HUE browser similar to previous step.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#47-process-and-ingest-iceberg-using-cde" class="md-nav__link">
    <span class="md-ellipsis">
      47. Process and Ingest Iceberg using CDE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#48-click-on-home-option-on-top-left-corner-to-go-to-the-landing-page" class="md-nav__link">
    <span class="md-ellipsis">
      48. Click on Home option on top left corner to go to the landing page.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#49-from-the-cdp-portal-or-cdp-menu-choose-data-engineering" class="md-nav__link">
    <span class="md-ellipsis">
      49. From the CDP Portal or CDP Menu choose Data Engineering.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#50-lets-create-a-job-click-on-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      50. Let’s create a job. Click on Jobs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#51-fill-the-following-values-carefully" class="md-nav__link">
    <span class="md-ellipsis">
      51. Fill the following values carefully.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      52.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#53-click-the-create-and-run-button-at-the-bottom-there-is-no-screenshot-for-the-same-note-it-might-take-3-minutes-so-its-okay-to-wait-until-its-done" class="md-nav__link">
    <span class="md-ellipsis">
      53. Click the Create and Run button at the bottom. (There is no screenshot for the same). Note: It might take ~3 minutes. So, it’s okay to wait until it’s done.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#54-after-execution-the-processed-files-will-be-in-your-bucket-but-under-the-name-which-has-the-format-processeddate" class="md-nav__link">
    <span class="md-ellipsis">
      54. After execution, the processed files will be in your bucket but under the name which has the format - processed"+date/.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#55-checking-logs-of-cde-job-run" class="md-nav__link">
    <span class="md-ellipsis">
      55. Checking Logs of CDE Job Run
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#56-click-on-the-run-id" class="md-nav__link">
    <span class="md-ellipsis">
      56. Click on the Run Id.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#57-click-the-logs-and-go-through-the-stdout-to-understand-better" class="md-nav__link">
    <span class="md-ellipsis">
      57. Click the Logs and go through the stdout to understand better.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#58-optional-you-can-aslo-verify-that-using-below-hdfs-command" class="md-nav__link">
    <span class="md-ellipsis">
      58. (optional) You can aslo verify that using below hdfs command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#59-create-dashboard-using-cdp-dataviz" class="md-nav__link">
    <span class="md-ellipsis">
      59. Create Dashboard using CDP DataViz
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#60-click-on-home-option-on-top-left-corner-to-go-to-the-landing-page" class="md-nav__link">
    <span class="md-ellipsis">
      60. Click on Home option on top left corner to go to the landing page.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#61-from-the-cdp-portal-or-cdp-menu-choose-data-warehouse" class="md-nav__link">
    <span class="md-ellipsis">
      61. From the CDP Portal or CDP Menu choose Data Warehouse.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#62-then-click-on-the-data-visualization-option-in-the-left-window-pane-youll-see-an-option-data-viz-next-to-the-data-viz-application-with-the-name-dataviz-it-should-open-a-new-window" class="md-nav__link">
    <span class="md-ellipsis">
      62. Then click on the Data Visualization option in the left window pane. You’ll see an option Data VIZ next to the data-viz application with the name dataviz. It should open a new window.+
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#63-you-will-access-to-the-following-window" class="md-nav__link">
    <span class="md-ellipsis">
      63. You will access to the following window.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#64-choose-data-on-the-upper-menu-bar-next-to-the-options-of-home-sql-visuals" class="md-nav__link">
    <span class="md-ellipsis">
      64. Choose DATA on the upper menu bar next to the options of HOME, SQL, VISUALS.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#65-fill-the-below-deatils" class="md-nav__link">
    <span class="md-ellipsis">
      65. Fill the below deatils.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#66-you-will-see-your-connection-in-the-all-connections-list" class="md-nav__link">
    <span class="md-ellipsis">
      66. You will see your connection in the All connections list
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#67-replace-user-with-your-username-wherever-it-is-applicable" class="md-nav__link">
    <span class="md-ellipsis">
      67. Replace (user) with your username wherever it is applicable.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#68-select-new-dashboard-icon-next-to-the-table-that-you-created-just-now" class="md-nav__link">
    <span class="md-ellipsis">
      68. Select "New Dashboard" -&gt; icon next to the Table that you created just now.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#69-youll-land-in-the-following-page" class="md-nav__link">
    <span class="md-ellipsis">
      69. You’ll land in the following page.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#70-lets-drag-from-data-section-on-the-right-under-dashboard-designer-the-following-attributemetric-and-the-refresh-the-visual" class="md-nav__link">
    <span class="md-ellipsis">
      70. Let’s drag from DATA section on the right under Dashboard Designer the following attribute/metric. And the REFRESH THE VISUAL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#71-then-on-visuals-choose-packed-bubbles" class="md-nav__link">
    <span class="md-ellipsis">
      71. Then on VISUALS choose Packed Bubbles.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#72-make-it-public-by-changing-the-option-from-private-to-public-save-it-by-clicking-the-save-button-on-the-top" class="md-nav__link">
    <span class="md-ellipsis">
      72. Make it PUBLIC by changing the option from PRIVATE to PUBLIC. Save it by clicking the SAVE button on the top.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#73-query-iceberg-tables-in-hue-and-cloudera-data-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      73. Query Iceberg Tables in Hue and Cloudera Data Visualization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#74-logging-into-hue" class="md-nav__link">
    <span class="md-ellipsis">
      74. Logging into Hue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#75-now-youre-accessing-to-the-sql-editor-called-hue-make-sure-that-you-can-see-impala" class="md-nav__link">
    <span class="md-ellipsis">
      75. Now you’re accessing to the sql editor called "HUE". Make sure that you can see Impala.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#76-iceberg-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      76. Iceberg snapshots
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#77-copy-the-snapshot-id-to-your-notepad" class="md-nav__link">
    <span class="md-ellipsis">
      77. Copy the snapshot id to your notepad
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#78-copy-and-paste-the-snapshot_id-and-use-it-on-the-following-impala-queries-replace-user_id-with-your-username-for-example-wuser00" class="md-nav__link">
    <span class="md-ellipsis">
      78. Copy and paste the snapshot_id and use it on the following impala queries. Replace user_id with your username. For example: wuser00.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#79-add-a-new-stock-nvda" class="md-nav__link">
    <span class="md-ellipsis">
      79. Add a New stock (NVDA)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#80-go-to-cloudera-data-flow-option-and-look-for-the-flow-that-you-had-created-earlier-based-on-your-user-name-ex-wuser00_stock_dataflow" class="md-nav__link">
    <span class="md-ellipsis">
      80. Go to Cloudera Data Flow option and look for the flow that you had created earlier based on your user name. Ex - wuser00_stock_dataflow.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#81-click-on-the-arrow-towards-the-right-side-of-the-flow-and-then-click-on-actions-manage-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      81. Click on the arrow towards the right side of the flow and then click on Actions → Manage Deployment.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#82-click-on-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      82. Click on parameter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#83-click-on-the-parameters-tab-and-then-scroll-down-to-the-text-box-where-you-had-entered-stock-tickers-stock_list" class="md-nav__link">
    <span class="md-ellipsis">
      83. Click on the Parameters tab and then scroll down to the text box where you had entered stock tickers (stock_list).
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#84-add-the-stock-nvda-and-then-click-on-apply-changes" class="md-nav__link">
    <span class="md-ellipsis">
      84. Add the stock NVDA. And then click on Apply Changes.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#85" class="md-nav__link">
    <span class="md-ellipsis">
      85.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#86-now-start-the-flow-again-by-clicking-actions-and-then-start-flow" class="md-nav__link">
    <span class="md-ellipsis">
      86. Now, start the flow again by clicking Actions and then Start flow.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#87" class="md-nav__link">
    <span class="md-ellipsis">
      87.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#88" class="md-nav__link">
    <span class="md-ellipsis">
      88.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#89-the-s3-bucket-gets-updated-with-new-data-and-this-time-it-includes-the-new-ticker-nvda-as-well-we-will-see-it-you-can-see-the-same-in-s3-bucket-as-shown-here" class="md-nav__link">
    <span class="md-ellipsis">
      89. The S3 bucket gets updated with new data and this time it includes the new ticker NVDA as well. We will see it. You can see the same in S3 bucket as shown here.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#90" class="md-nav__link">
    <span class="md-ellipsis">
      90.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#91-you-can-verify-the-same-by-running-hdfs-command-similar-to-previous-step" class="md-nav__link">
    <span class="md-ellipsis">
      91. You can verify the same by running hdfs command similar to previous step
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#92" class="md-nav__link">
    <span class="md-ellipsis">
      92.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#93-now-go-to-cloudera-data-engineering-from-the-home-page-and-jobs-choose-the-cde-job-that-you-had-created-earlier-with-your-username" class="md-nav__link">
    <span class="md-ellipsis">
      93. Now go to Cloudera Data Engineering from the home page and Jobs. Choose the CDE Job that you had created earlier with your username.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#94" class="md-nav__link">
    <span class="md-ellipsis">
      94.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#95-click-the-3-dots-next-to-your-job-that-you-had-created-earloer-and-then-click-on-run-now" class="md-nav__link">
    <span class="md-ellipsis">
      95. Click the 3 dots next to your job that you had created earloer and then click on Run Now.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#96-click-on-job-runs-in-the-left-to-see-the-status-of-the-job-that-was-initiated-now-it-should-succeed" class="md-nav__link">
    <span class="md-ellipsis">
      96. Click on Job Runs in the left to see the status of the job that was initiated now. It should succeed.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#97-as-cdf-has-ingested-a-new-stock-value-and-then-cde-has-merged-those-value-it-has-created-new-iceberg-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      97. As CDF has ingested a new stock value and then CDE has merged those value it has created new Iceberg snapshots.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#98-check-new-snapshot-history" class="md-nav__link">
    <span class="md-ellipsis">
      98. Check new snapshot history
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#99-paste-the-new-snapshot_id-and-use-it-on-the-following-impala-query" class="md-nav__link">
    <span class="md-ellipsis">
      99. Paste the new snapshot_id and use it on the following impala query.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#100-show-data-files" class="md-nav__link">
    <span class="md-ellipsis">
      100. Show Data Files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#101-check-the-iceberg-table-replace-user_id-with-your-username-for-example-wuser00" class="md-nav__link">
    <span class="md-ellipsis">
      101. Check the Iceberg table. Replace user_id with your username. For example: wuser00.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#102-note-please-make-sure-that-the-data-flow-that-was-created-by-you-is-suspended-else-it-will-be-running-continously-to-suspend-the-flow-do-the-following" class="md-nav__link">
    <span class="md-ellipsis">
      102. Note: 🔴 Please make sure that the data flow that was created by you is Suspended else it will be running continously. To suspend the flow, do the following.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#103" class="md-nav__link">
    <span class="md-ellipsis">
      103.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#104" class="md-nav__link">
    <span class="md-ellipsis">
      104.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#105" class="md-nav__link">
    <span class="md-ellipsis">
      105.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#106-end-of-exercise" class="md-nav__link">
    <span class="md-ellipsis">
      106. End of exercise.
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="end-to-end-alphaa-vantage-stocks">End to end alphaa vantage stocks</h1>
<h2 id="1-end-to-end-alphaa-vantage-stocks">1. End to end alphaa vantage stocks</h2>
<p>In this exercise, we will work get stock data from <a href="https://www.alphavantage.co/">Alpha Vantage</a>, that offers free stock APIs in JSON and CSV formats for real-time and historical stock market data.</p>
<ul>
<li>Data ingestion and streaming — provided by <em>Cloudera Data Flow (CDF)</em> and <em>Cloudera Data Engineering (CDE)</em>.</li>
<li>Global data access and persistence—​provided by <em>Cloudera Data Warehouse (CDW)</em>.</li>
<li>Data visualization with <em>CDP Data Visualization</em>.</li>
</ul>
<h2 id="2-high-level-steps">2. High-Level Steps</h2>
<p>Below are the high-level steps for what we will be doing in the workshop.</p>
<p>(1) Get Alpha Vantage key to be used in Cloudera Data Flow (CDF) to collect stock data (IBM, AMZN, MSFT, GOOGL).</p>
<p>(2) Create CDF workflow and run it to ingest data into S3.</p>
<p>(3) Create Iceberg Table using Cloudera Data Warehouse (CDW/Hue).</p>
<p>(4) Create CDE job and run it to ingest data into iceberg table.</p>
<p>(5) Use Cloudera Data Viz to create a simple dashboard on Iceberg table.</p>
<p>(6) Run the CDE job with updated ticker (NVDA).</p>
<p>(7) Use/Test Iceberg time travel features.
<a class="glightbox" href="images/step-1.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="High-Level Steps" src="images/step-1.png" /></a></p>
<h2 id="3-pre-requisites">3. Pre-requisites</h2>
<ol>
<li>Laptop with a supported OS (Windows 7 not supported) or MacBook.</li>
<li>A modern browser - Google Chrome (IE, Firefox, Safari not supported).</li>
<li>Wi-Fi Internet connection.</li>
<li>Git installed (optional).</li>
</ol>
<h2 id="4-download-the-exercise-files">4. Download the exercise files</h2>
<p><a href="images/e2e-cdp-alphavantagestocks-main.zip" download>Click here to download</a></p>
<h2 id="41-use-any-unzip-utility-to-download-extract-the-content-of-the-e2e-cdp-alphavantagezip-file">4.1 Use any unzip utility to download extract the content of the e2e-cdp-alphavantage.zip file.</h2>
<p>In the extracted content just be sure that the downloaded files has a file <strong>Stocks_Intraday_Alpha_Template.json</strong> which should be around ~65 KB in size. You will need this file in later step.
<a class="glightbox" href="images/step-4.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Use any unzip utility to download extract the content of the e2e-cdp-alphavantage.zip file." src="images/step-4.png" /></a></p>
<h2 id="5-get-alpha-vantage-key">5. Get Alpha Vantage Key</h2>
<p>Go to website</p>
<div class="highlight"><pre><span></span><code>https://www.alphavantage.co/
</code></pre></div>
<p>Choose link -&gt; GET FREE API KEY .
<a class="glightbox" href="images/step-5.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Get Alpha Vantage Key" src="images/step-5.png" /></a></p>
<h2 id="51-fill-the-details">5.1 Fill the details:</h2>
<ol>
<li>Choose <code>Student</code> for the question - <code>Which of the following best describes you?</code>.</li>
<li>Enter your own organisation name for the question - <code>Organization (e.g. company, university, etc.):</code></li>
<li>Enter your email address for the question - <code>Email:</code> (Note: Please enter personal email id and not the workshop email id)</li>
<li>Click on <code>GET FREE API KEY</code>.
<a class="glightbox" href="images/step-6.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Fill the details:" src="images/step-6.png" /></a></li>
</ol>
<h2 id="52-you-should-see-a-message-like-welcome-to-alpha-vantage-your-dedicated-access-key-is-yxxxxxxxxxxxxxxe">5.2 You should see a message like - Welcome to Alpha Vantage! Your dedicated access key is: YXXXXXXXXXXXXXXE.</h2>
<p>Please record this API key at a safe place for future data access.
<a class="glightbox" href="images/step-7.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="You should see a message like - Welcome to Alpha Vantage! Your dedicated access key is: YXXXXXXXXXXXXXXE." src="images/step-7.png" /></a></p>
<h2 id="6-define-workload-password">6. Define Workload Password</h2>
<p>You will need to define your workload password that will be used to acess non-SSO interfaces. You may read more about it: Non-SSO interfaces.</p>
<div class="highlight"><pre><span></span><code>https://docs.cloudera.com/management-console/cloud/user-management/topics/mc-access-paths-to-cdp.html
</code></pre></div>
<p>Click on your user name (Ex: user1) at the lower left corner.</p>
<p>Click on the Profile option.
<a class="glightbox" href="images/step-8.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Define Workload Password" src="images/step-8.png" /></a></p>
<h2 id="61-click-option-set-workload-password">6.1 Click option Set Workload Password.</h2>
<p>Enter a Password and Confirm Password. (Use the credentials provided by your instructor to log in to Cloudera on cloud console.)</p>
<p>Click button Set Workload Password.
<a class="glightbox" href="images/step-9.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click option Set Workload Password." src="images/step-9.png" /></a></p>
<h2 id="62">6.2</h2>
<p><a class="glightbox" href="images/step-10.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-10.png" /></a></p>
<h2 id="63-check-that-you-got-the-message-workload-password-is-currently-set-or-alternatively-look-for-a-message-next-to-workload-password-which-says-workload-password-is-currently-set">6.3 Check that you got the message - Workload password is currently set or alternatively, look for a message next to Workload Password which says (Workload password is currently set)</h2>
<p><a class="glightbox" href="images/step-11.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Check that you got the message - Workload password is currently set or alternatively, look for a message next to Workload Password which says (Workload password is currently set)" src="images/step-11.png" /></a></p>
<h2 id="7-create-the-flow-to-ingest-stock-data-via-api-to-object-storage">7. Create the flow to ingest stock data via API to Object Storage</h2>
<p>Click on Home option on top left corner to go to the landing page.
<a class="glightbox" href="images/step-12.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Create the flow to ingest stock data via API to Object Storage" src="images/step-12.png" /></a></p>
<h2 id="8-click-on-dataflow-icon-as-shown-in-the-image-below">8. Click on DataFlow icon as shown in the image below.</h2>
<p><a class="glightbox" href="images/step-13.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on DataFlow icon as shown in the image below." src="images/step-13.png" /></a></p>
<h2 id="9-create-a-new-cdf-catalog">9. Create a new CDF Catalog</h2>
<div class="highlight"><pre><span></span><code>1.  On the left menu click on the option -&gt; Catalog.

2.  On the top right corner click the button -&gt; Import Flow Definition.
</code></pre></div>
<p><a class="glightbox" href="images/step-14.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Create a new CDF Catalog" src="images/step-14.png" /></a></p>
<h2 id="10-fill-up-those-parameters">10. Fill up those parameters :</h2>
<p>Flow Name</p>
<p><em>(user)-stock-data</em></p>
<p>Depending upon your user name it should be something like - <em>user1-stock-data</em></p>
<p>Nifi Flow Configuration</p>
<p>*Upload the file Stocks_Intraday_Alpha_Template.json</p>
<p>(Note: You had downloaded this file in Step 4.1 or Step 4.2 depending on what you chose initially.).*</p>
<p>Click Import
<a class="glightbox" href="images/step-15.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Fill up those parameters :" src="images/step-15.png" /></a></p>
<h2 id="11-the-new-catalog-has-been-added-type-in-the-name-so-that-you-can-only-see-the-one-that-you-had-created-and-not-the-others-for-example-user1-stock-data">11. The new catalog has been added. Type in the name so that you can only see the one that you had created and not the others. For example - user1-stock-data</h2>
<p>Now let's deploy it.
<a class="glightbox" href="images/step-16.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="The new catalog has been added. Type in the name so that you can only see the one that you had created and not the others. For example - user1-stock-data" src="images/step-16.png" /></a></p>
<h2 id="12-deploy-dataflow">12. Deploy DataFlow</h2>
<p>Click on the small arrow towards right of the catalog you just created. </p>
<p>Click on Deploy button.
<a class="glightbox" href="images/step-17.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Deploy DataFlow" src="images/step-17.png" /></a></p>
<h2 id="13-you-will-need-to-select-your-environment">13. You will need to select your environment</h2>
<p>Click on Continue →
<a class="glightbox" href="images/step-18.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="You will need to select your environment " src="images/step-18.png" /></a></p>
<h2 id="14-give-a-name-to-this-dataflow">14. Give a name to this dataflow.</h2>
<p>(user)_stock_dataflow</p>
<p>Depending on your user name it should be something like - user1_stock_dataflow.</p>
<p>Make sure that the right Target Environment is selected. Click Next.
<a class="glightbox" href="images/step-19.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Give a name to this dataflow." src="images/step-19.png" /></a></p>
<h2 id="15-click-next">15. Click Next.</h2>
<p><a class="glightbox" href="images/step-20.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click Next." src="images/step-20.png" /></a></p>
<h2 id="16-update-parameter-as-below">16. Update parameter as below</h2>
<ol>
<li>CDP_Password</li>
</ol>
<p>Fill up your CDP workload password here</p>
<p>2.CDP_User</p>
<p>your user</p>
<p>Depending on your user name it should be something like - admin1.</p>
<p>(Make sure you are not adding any white spaces after CDP_User and Password)</p>
<p>3.S3 Path</p>
<p>stocks</p>
<p>4.api_alpha_key</p>
<p>your Alpha Vantage key</p>
<ol start="5">
<li>stock_list</li>
</ol>
<p>IBM</p>
<p>GOOGL</p>
<p>AMZN</p>
<p>MSFT</p>
<p>Click Next →.
<a class="glightbox" href="images/step-21.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Update parameter as below" src="images/step-21.png" /></a></p>
<h2 id="17-nifi-node-sizing-extra-small">17. Nifi Node Sizing : Extra Small</h2>
<p>Enable Auto scaling and let the min nodes be 1 and max nodes be 3.
<a class="glightbox" href="images/step-22.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Nifi Node Sizing : Extra Small" src="images/step-22.png" /></a></p>
<h2 id="18-you-can-define-kpis-in-regards-what-has-been-specified-in-your-dataflow-but-we-will-skip-this-for-now-click-next">18. You can define KPI's in regards what has been specified in your dataflow, but we will skip this for now. Click Next→</h2>
<p><a class="glightbox" href="images/step-23.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="You can define KPI's in regards what has been specified in your dataflow, but we will skip this for now. Click Next→" src="images/step-23.png" /></a></p>
<h2 id="19-click-deploy-to-launch-the-deployment">19. Click Deploy to launch the deployment.</h2>
<p><a class="glightbox" href="images/step-24.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click Deploy to launch the deployment." src="images/step-24.png" /></a></p>
<h2 id="20-the-deployment-will-get-initiated-check-the-deployment-on-the-run-and-look-for-the-status-good-health">20. The deployment will get initiated. Check the deployment on the run and look for the status Good Health.</h2>
<p><a class="glightbox" href="images/step-25.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="The deployment will get initiated. Check the deployment on the run and look for the status Good Health." src="images/step-25.png" /></a></p>
<h2 id="21">21.</h2>
<p><a class="glightbox" href="images/step-26.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-26.png" /></a></p>
<h2 id="22-dataflow-is-up-and-running-and-you-can-confirm-the-same-by-looking-at-the-green-tick-and-message-good-health-against-the-dataflow-name-its-will-take-7-minutes-before-you-see-the-green-tick-notice-the-event-history-and-there-are-approximately-8-steps-that-happen-after-the-flow-deployment-you-might-want-to-observe-those">22. Dataflow is up and running and you can confirm the same by looking at the green tick and message Good Health against the dataflow name. It’s will take ~7 minutes before you see the green tick. Notice the Event History and there are approximately 8 steps that happen after the flow deployment. You might want to observe those.</h2>
<p><a class="glightbox" href="images/step-27.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Dataflow is up and running and you can confirm the same by looking at the green tick and message Good Health against the dataflow name. It’s will take ~7 minutes before you see the green tick. Notice the Event History and there are approximately 8 steps that happen after the flow deployment. You might want to observe those." src="images/step-27.png" /></a></p>
<h2 id="23">23.</h2>
<p><a class="glightbox" href="images/step-28.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-28.png" /></a></p>
<h2 id="24-after-the-successful-deployment-we-will-start-receiving-stock-information-into-our-bucket-if-you-want-you-can-check-in-your-bucket-under-the-path-s3auserusernamestocksnew">24. After the successful deployment we will start receiving stock information into our bucket. If you want you can check in your bucket under the path s3a://<storagelocation>/user/(username)/stocks/new.</h2>
<p><a class="glightbox" href="images/step-29.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="After the successful deployment we will start receiving stock information into our bucket. If you want you can check in your bucket under the path s3a://&lt;storagelocation&gt;/user/(username)/stocks/new." src="images/step-29.png" /></a></p>
<h2 id="25-you-can-verify-the-s3-buck-bucket-by-running-below-command">25. you can verify the s3 buck bucket by running below command</h2>
<p>Make sure to replace the storage location and username from the below command.</p>
<p>Copy below command to your notepad and make necessary changes</p>
<div class="highlight"><pre><span></span><code>hdfs dfs -ls s3a://cdp-storage-sanket-500-class-240801/user/admin_1_240801/stocks/new


hdfs dfs -ls s3a://&lt;storage location&gt;/user/&lt;username&gt;/stocks/new
</code></pre></div>
<p>Follow the next step to get the storage location</p>
<h2 id="26-get-storage-location">26. Get storage location</h2>
<p>Go to the Management console &gt; Select environment
<a class="glightbox" href="images/step-31.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Get storage location" src="images/step-31.png" /></a></p>
<h2 id="27-click-on-summary-tab-scroll-down">27. Click on Summary tab &amp; scroll down</h2>
<p><a class="glightbox" href="images/step-32.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on Summary tab &amp; scroll down" src="images/step-32.png" /></a></p>
<h2 id="28-copy-storage-location-and-add-it-to-below-command">28. Copy storage location and add it to below command</h2>
<p>Make sure replace the username as well</p>
<div class="highlight"><pre><span></span><code>hdfs dfs -ls s3a://cdp-storage-sanket-500-class-240801/user/admin_1_240801/stocks/new
</code></pre></div>
<p>.</p>
<div class="highlight"><pre><span></span><code>hdfs dfs -ls s3a://&lt;storage location&gt;/user/&lt;username&gt;/stocks/new
</code></pre></div>
<p><a class="glightbox" href="images/step-33.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Copy storage location and add it to below command" src="images/step-33.png" /></a></p>
<h2 id="29-login-to-datahub-cluster">29. Login to Datahub cluster</h2>
<p>Click on Datahub cluster &gt; select your Datahub  <em>training-gateway</em> &gt; select Nodes tab &gt; Copy the public IP of the node.
<a class="glightbox" href="images/step-34.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Login to Datahub cluster" src="images/step-34.png" /></a></p>
<h2 id="30">30.</h2>
<p><a class="glightbox" href="images/step-35.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-35.png" /></a></p>
<h2 id="31-login-to-nodes">31. Login to Nodes</h2>
<p>Run below "ssh" command to login to this node</p>
<p>User your username and PublicIP which you copied in your previous step &amp; Enter your <strong>Password</strong></p>
<div class="highlight"><pre><span></span><code>ssh username@PublicIP
</code></pre></div>
<p>.</p>
<div class="highlight"><pre><span></span><code>eg. ssh admin_1_240801@18.142.188.180
</code></pre></div>
<p><a class="glightbox" href="images/step-36.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Login to Nodes" src="images/step-36.png" /></a></p>
<h2 id="32-verify-files-in-s3-bucket">32. Verify files in s3 bucket</h2>
<p>Run the hdfs command which you have modified in the previous step</p>
<div class="highlight"><pre><span></span><code>hdfs dfs -ls s3a://&lt;storage location&gt;/user/&lt;username&gt;/stocks/new
</code></pre></div>
<p>After running above command you can see we are receiving stock information into our bucket.
<a class="glightbox" href="images/step-37.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Verify files in s3 bucket" src="images/step-37.png" /></a></p>
<h2 id="33-view-nifi-dataflow">33. View Nifi DataFlow</h2>
<p>Click on blue arrow on the right of your deployed dataflow user1_stock_dataflow.
<a class="glightbox" href="images/step-38.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="View Nifi DataFlow" src="images/step-38.png" /></a></p>
<h2 id="34-select-actions-view-in-nifi-on-top-right-corner">34. Select Actions → View in NiFi on top right corner.</h2>
<p><a class="glightbox" href="images/step-39.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Select Actions → View in NiFi on top right corner." src="images/step-39.png" /></a></p>
<h2 id="35-double-click-on-the-process-group">35. Double click on the Process group.</h2>
<p><a class="glightbox" href="images/step-40.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Double click on the Process group." src="images/step-40.png" /></a></p>
<h2 id="36-you-can-see-the-nifi-data-flow-that-has-been-deployed-from-the-json-file-you-can-click-each-of-the-processor-groups-to-go-inside-and-see-the-flow-details-make-sure-that-there-are-no-errors-in-the-flow-if-you-see-any-please-let-the-instructor-know">36. You can see the Nifi data flow that has been deployed from the json file. You can click each of the processor groups to go inside and see the flow details. Make sure that there are no errors in the flow. If you see any please let the instructor know</h2>
<p><a class="glightbox" href="images/step-41.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="You can see the Nifi data flow that has been deployed from the json file. You can click each of the processor groups to go inside and see the flow details. Make sure that there are no errors in the flow. If you see any please let the instructor know" src="images/step-41.png" /></a></p>
<h2 id="37-at-this-stage-you-can-suspend-this-dataflow-go-back-to-actions-manage-deploymentdeployment-manager-actions-stop-flow-we-will-add-a-new-stock-later-and-restart-it">37. At this stage you can suspend this dataflow, go back to Actions &gt; Manage deployment&gt;Deployment Manager -&gt; Actions -&gt; Stop flow. We will add a new stock later and restart it.</h2>
<p><a class="glightbox" href="images/step-42.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="At this stage you can suspend this dataflow, go back to Actions &gt; Manage deployment&gt;Deployment Manager -&gt; Actions -&gt; Stop flow. We will add a new stock later and restart it." src="images/step-42.png" /></a></p>
<h2 id="38-stop-flow">38. Stop flow</h2>
<p><a class="glightbox" href="images/step-43.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Stop flow" src="images/step-43.png" /></a></p>
<h2 id="39">39.</h2>
<p><a class="glightbox" href="images/step-44.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-44.png" /></a></p>
<h2 id="40-confirm-that-the-status-is-stopped">40. Confirm that the status is Stopped.</h2>
<p><a class="glightbox" href="images/step-45.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Confirm that the status is Stopped." src="images/step-45.png" /></a></p>
<h2 id="41-create-iceberg-table">41. Create Iceberg Table</h2>
<p>Now we are going to create the Iceberg table. Click on Home option on top left corner to go to the landing page.
<a class="glightbox" href="images/step-46.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Create Iceberg Table" src="images/step-46.png" /></a></p>
<h2 id="42-from-the-cdp-portal-or-cdp-menu-choose-data-warehouse">42. From the CDP Portal or CDP Menu choose Data Warehouse.</h2>
<p><a class="glightbox" href="images/step-47.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="From the CDP Portal or CDP Menu choose Data Warehouse." src="images/step-47.png" /></a></p>
<h2 id="43-from-the-cdw-overview-window-click-the-hue-button-on-the-right-corner-as-shown-under-the-virtual-warehouses-to-the-right">43. From the CDW Overview window, click the "HUE" button on the right corner as shown under the Virtual Warehouses to the right.</h2>
<p><a class="glightbox" href="images/step-48.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="From the CDW Overview window, click the &quot;HUE&quot; button on the right corner as shown under the Virtual Warehouses to the right." src="images/step-48.png" /></a></p>
<h2 id="44-now-youre-accessing-to-the-sql-editor-called-hue-hadoop-user-experience">44. Now you’re accessing to the sql editor called - "HUE" (Hadoop User Experience).</h2>
<p>Make sure that the Impala engine is selected to interact with the database.
<a class="glightbox" href="images/step-49.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Now you’re accessing to the sql editor called - &quot;HUE&quot; (Hadoop User Experience)." src="images/step-49.png" /></a></p>
<h2 id="45-create-database-using-your-login-for-example-wuser00-replace-user_id-by-your-username-for-database-creation-in-the-command-below">45. Create database using your login For example: wuser00. Replace user_id by your username for database creation in the command below.</h2>
<div class="highlight"><pre><span></span><code>CREATE DATABASE ${user_id}_stocks;
</code></pre></div>
<p>See the result to notice a message Database has been created.
<a class="glightbox" href="images/step-50.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Create database using your login For example: wuser00. Replace user_id by your username for database creation in the command below." src="images/step-50.png" /></a></p>
<h2 id="46-after-creating-the-database-create-an-iceberg-table-replace-user_id-by-your-username-for-iceberg-table-creation-in-the-hue-browser-similar-to-previous-step">46. After creating the database create an Iceberg table. Replace user_id by your username for iceberg table creation in the HUE browser similar to previous step.</h2>
<div class="highlight"><pre><span></span><code>CREATE TABLE IF NOT EXISTS ${user_id}_stocks.stock_intraday_1min (
  interv STRING,
  output_size STRING,
  time_zone STRING,
  open DECIMAL(8,4),
  high DECIMAL(8,4),
  low DECIMAL(8,4),
  close DECIMAL(8,4),
  volume BIGINT)
PARTITIONED BY (
  ticker STRING,
  last_refreshed string,
  refreshed_at string)
STORED AS iceberg;
</code></pre></div>
<p>See the result to notice a message Table has been created.</p>
<p>Let’s now create our engineering process.
<a class="glightbox" href="images/step-51.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="After creating the database create an Iceberg table. Replace user_id by your username for iceberg table creation in the HUE browser similar to previous step." src="images/step-51.png" /></a></p>
<h2 id="47-process-and-ingest-iceberg-using-cde">47.  Process and Ingest Iceberg using CDE</h2>
<p>Now we will use Cloudera Data Engineering to check the files in the object storage that were populated as a part of the above DataFlow run and then compare if it's new data, and insert them into the Iceberg table.</p>
<h2 id="48-click-on-home-option-on-top-left-corner-to-go-to-the-landing-page">48. Click on Home option on top left corner to go to the landing page.</h2>
<p><a class="glightbox" href="images/step-53.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on Home option on top left corner to go to the landing page." src="images/step-53.png" /></a></p>
<h2 id="49-from-the-cdp-portal-or-cdp-menu-choose-data-engineering">49. From the CDP Portal or CDP Menu choose Data Engineering.</h2>
<p><a class="glightbox" href="images/step-54.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="From the CDP Portal or CDP Menu choose Data Engineering." src="images/step-54.png" /></a></p>
<h2 id="50-lets-create-a-job-click-on-jobs">50. Let’s create a job. Click on Jobs</h2>
<p>Then click Create Job button in the right side of the screen.</p>
<p>Note: This page may differ a little bit depending on the fact that some user may have created a job prior to you or not.
<a class="glightbox" href="images/step-55.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Let’s create a job. Click on Jobs" src="images/step-55.png" /></a></p>
<h2 id="51-fill-the-following-values-carefully">51. Fill the following values carefully.</h2>
<p>Job Type*</p>
<p>Choose Spark 3.2.3</p>
<p>Name*</p>
<p>Replace (user) with your username. For example: user1-StockIceberg.</p>
<p>(user)-StockIceberg</p>
<p>Make sure Application File that is selected is resource. Select the option <strong>Upload</strong></p>
<p>Select stockdata-job -&gt; stockdatabase_2.12-1.0.jar</p>
<p>Resource Name: Userx-stock
<a class="glightbox" href="images/step-56.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Fill the following values carefully." src="images/step-56.png" /></a></p>
<h2 id="52">52.</h2>
<p>Main Class</p>
<div class="highlight"><pre><span></span><code>com.cloudera.cde.stocks.StockProcessIceberg
</code></pre></div>
<p>.</p>
<p>.Make sure the below arguments are filled so that (user) is replaced with the actual username. For example wuser00_stocks and instead of (user) at the end it is wuser00. Make sure to check the next screenshot to comply.</p>
<p><code>Arguments</code></p>
<blockquote>
<p>(user)_stocks</p>
<p>s3a://meta-workshop/ (Storage account see the step 28</p>
<p>stocks</p>
<p>(user)
<a class="glightbox" href="images/step-57.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-57.png" /></a></p>
</blockquote>
<h2 id="53-click-the-create-and-run-button-at-the-bottom-there-is-no-screenshot-for-the-same-note-it-might-take-3-minutes-so-its-okay-to-wait-until-its-done">53. Click the Create and Run button at the bottom. (There is no screenshot for the same). Note: It might take ~3 minutes. So, it’s okay to wait until it’s done.</h2>
<p>This application will:</p>
<ul>
<li>Check new files in the new directory;</li>
<li>Create a temp table in Spark/cache this table and identify duplicated rows (in case that NiFi loaded the same data again);</li>
<li>MERGE INTO the final table, INSERT new data or UPDATE if exists;</li>
<li>Archive files in the bucket;
<a class="glightbox" href="images/step-58.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click the Create and Run button at the bottom. (There is no screenshot for the same). Note: It might take ~3 minutes. So, it’s okay to wait until it’s done." src="images/step-58.png" /></a></li>
</ul>
<h2 id="54-after-execution-the-processed-files-will-be-in-your-bucket-but-under-the-name-which-has-the-format-processeddate">54. After execution, the processed files will be in your bucket but under the name which has the format - processed"+date/.</h2>
<p><a class="glightbox" href="images/step-59.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="After execution, the processed files will be in your bucket but under the name which has the format - processed&quot;+date/." src="images/step-59.png" /></a></p>
<h2 id="55-checking-logs-of-cde-job-run">55. Checking Logs of CDE Job Run</h2>
<p>Click on the Job Name
<a class="glightbox" href="images/step-60.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Checking Logs of CDE Job Run" src="images/step-60.png" /></a></p>
<h2 id="56-click-on-the-run-id">56. Click on the Run Id.</h2>
<p><a class="glightbox" href="images/step-61.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on the Run Id." src="images/step-61.png" /></a></p>
<h2 id="57-click-the-logs-and-go-through-the-stdout-to-understand-better">57. Click the Logs and go through the stdout to understand better.</h2>
<p>Under Logs tab check for the following. In most of the cases Processing temp dirs indicates that job would run successfully and is in it's last stages.
<a class="glightbox" href="images/step-62.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click the Logs and go through the stdout to understand better." src="images/step-62.png" /></a></p>
<h2 id="58-optional-you-can-aslo-verify-that-using-below-hdfs-command">58. (optional) You can aslo verify that using below hdfs command</h2>
<div class="highlight"><pre><span></span><code>hdfs dfs -ls s3a://cdp-storage-sanket-500-class-240801/user/admin_1_240801/stocks/
</code></pre></div>
<p><a class="glightbox" href="images/step-63.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="(optional) You can aslo verify that using below hdfs command" src="images/step-63.png" /></a></p>
<h2 id="59-create-dashboard-using-cdp-dataviz">59. Create Dashboard using CDP DataViz</h2>
<p>Note: Before moving ahead with this section make sure that the CDE job ran successfully. Go to Job Runs option in the left pane and look for the job that you ran now. It should have a green tick box next to it's name.</p>
<p>We will now create a simple dashboard using Cloudera Data Viz.
<a class="glightbox" href="images/step-64.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Create Dashboard using CDP DataViz" src="images/step-64.png" /></a></p>
<h2 id="60-click-on-home-option-on-top-left-corner-to-go-to-the-landing-page">60. Click on Home option on top left corner to go to the landing page.</h2>
<p><a class="glightbox" href="images/step-65.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on Home option on top left corner to go to the landing page." src="images/step-65.png" /></a></p>
<h2 id="61-from-the-cdp-portal-or-cdp-menu-choose-data-warehouse">61. From the CDP Portal or CDP Menu choose Data Warehouse.</h2>
<p><a class="glightbox" href="images/step-66.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="From the CDP Portal or CDP Menu choose Data Warehouse." src="images/step-66.png" /></a></p>
<h2 id="62-then-click-on-the-data-visualization-option-in-the-left-window-pane-youll-see-an-option-data-viz-next-to-the-data-viz-application-with-the-name-dataviz-it-should-open-a-new-window">62. Then click on the Data Visualization option in the left window pane. You’ll see an option Data VIZ next to the data-viz application with the name dataviz. It should open a new window.+</h2>
<p><a class="glightbox" href="images/step-67.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Then click on the Data Visualization option in the left window pane. You’ll see an option Data VIZ next to the data-viz application with the name dataviz. It should open a new window.+" src="images/step-67.png" /></a></p>
<h2 id="63-you-will-access-to-the-following-window">63. You will access to the following window.</h2>
<p>Click close
<a class="glightbox" href="images/step-68.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="You will access to the following window. " src="images/step-68.png" /></a></p>
<h2 id="64-choose-data-on-the-upper-menu-bar-next-to-the-options-of-home-sql-visuals">64. Choose DATA on the upper menu bar next to the options of HOME, SQL, VISUALS.</h2>
<p>Then click on <strong>New Connection</strong>
<a class="glightbox" href="images/step-69.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Choose DATA on the upper menu bar next to the options of HOME, SQL, VISUALS." src="images/step-69.png" /></a></p>
<h2 id="65-fill-the-below-deatils">65. Fill the below deatils.</h2>
<ol>
<li>
<p>Connection type: CDW Impala</p>
</li>
<li>
<p>Connection name: Userx-DataViz</p>
</li>
<li>
<p>CDW Warehouse: Select from the drop-down</p>
</li>
</ol>
<p>Hostname or IP address: Gets automatically selected.</p>
<p>Port: <code>Gets automatically filled up</code>.</p>
<p>Username: <code>Gets automatically filled up.</code></p>
<p>Password: <code>Blank</code></p>
<ol start="4">
<li>Click on Test.</li>
</ol>
<p>Once the connection is verified.</p>
<ol start="5">
<li>Click Connect.
<a class="glightbox" href="images/step-70.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Fill the below deatils." src="images/step-70.png" /></a></li>
</ol>
<h2 id="66-you-will-see-your-connection-in-the-all-connections-list">66. You will see your connection in the All connections list</h2>
<p>Select your connection(userx-dataviz) then click on <strong>NEW DATASET</strong>
<a class="glightbox" href="images/step-71.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="You will see your connection in the All connections list" src="images/step-71.png" /></a></p>
<h2 id="67-replace-user-with-your-username-wherever-it-is-applicable">67. Replace (user) with your username wherever it is applicable.</h2>
<p>Dataset title</p>
<p><em>(user)_dataset</em></p>
<p>Dataset Source</p>
<p><em>From Table</em></p>
<p>Select Database</p>
<p><em>(user)_stocks</em></p>
<p>Select Table</p>
<p><em>stock_intraday_1min</em></p>
<p>Click CREATE.
<a class="glightbox" href="images/step-72.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Replace (user) with your username wherever it is applicable." src="images/step-72.png" /></a></p>
<h2 id="68-select-new-dashboard-icon-next-to-the-table-that-you-created-just-now">68. Select "New Dashboard" -&gt;  icon next to the Table that you created just now.</h2>
<p><a class="glightbox" href="images/step-73.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Select &quot;New Dashboard&quot; -&gt;  icon next to the Table that you created just now." src="images/step-73.png" /></a></p>
<h2 id="69-youll-land-in-the-following-page">69. You’ll land in the following page.</h2>
<p><a class="glightbox" href="images/step-74.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="You’ll land in the following page." src="images/step-74.png" /></a></p>
<h2 id="70-lets-drag-from-data-section-on-the-right-under-dashboard-designer-the-following-attributemetric-and-the-refresh-the-visual">70. Let’s drag from DATA section on the right under Dashboard Designer the following attribute/metric. And the REFRESH THE VISUAL</h2>
<p>Dimensions -&gt; ticker</p>
<p>Move it to Visuals -&gt; Dimensions</p>
<p>Measures -&gt; #volume</p>
<p>Move it to Visuals -&gt; Measures
<a class="glightbox" href="images/step-75.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Let’s drag from DATA section on the right under Dashboard Designer the following attribute/metric. And the REFRESH THE VISUAL" src="images/step-75.png" /></a></p>
<h2 id="71-then-on-visuals-choose-packed-bubbles">71. Then on VISUALS choose Packed Bubbles.</h2>
<p>Click on Refresh Visual.</p>
<p>Your visual could be slighltly different from the image here.
<a class="glightbox" href="images/step-76.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Then on VISUALS choose Packed Bubbles." src="images/step-76.png" /></a></p>
<h2 id="72-make-it-public-by-changing-the-option-from-private-to-public-save-it-by-clicking-the-save-button-on-the-top">72. Make it PUBLIC by changing the option from PRIVATE to PUBLIC. Save it by clicking the SAVE button on the top.</h2>
<p>You have succeeded to create a simple dashboard. Now, let’s query our data and explore the time-travel and snapshot capabilties of Iceberg.
<a class="glightbox" href="images/step-77.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Make it PUBLIC by changing the option from PRIVATE to PUBLIC. Save it by clicking the SAVE button on the top." src="images/step-77.png" /></a></p>
<h2 id="73-query-iceberg-tables-in-hue-and-cloudera-data-visualization">73. Query Iceberg Tables in Hue and Cloudera Data Visualization</h2>
<p>Our example will load the intraday stock daily since the free API does not give real-time data, but we can change the Cloudera Dataflow Parameter to add one more ticker and we've scheduled to run hourly the CDE process. After this we will be able to see the new ticker information in the dashboard and also perform time travel using Iceberg!</p>
<h2 id="74-logging-into-hue">74. Logging into Hue</h2>
<p>From the CDW Overview window, click the "HUE" button on the right corner as shown under the Virtual Warehouses to the right. Make sure that the correct Virtual Warehouse is selected.
<a class="glightbox" href="images/step-79.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Logging into Hue" src="images/step-79.png" /></a></p>
<h2 id="75-now-youre-accessing-to-the-sql-editor-called-hue-make-sure-that-you-can-see-impala">75. Now you’re accessing to the sql editor called "HUE". Make sure that you can see Impala.</h2>
<p><a class="glightbox" href="images/step-80.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Now you’re accessing to the sql editor called &quot;HUE&quot;. Make sure that you can see Impala." src="images/step-80.png" /></a></p>
<h2 id="76-iceberg-snapshots">76. Iceberg snapshots</h2>
<p>Let's see the Iceberg table history. Replace user_id with your username. For example: wuser00.</p>
<div class="highlight"><pre><span></span><code>DESCRIBE HISTORY ${user_id}_stocks.stock_intraday_1min;
</code></pre></div>
<p><a class="glightbox" href="images/step-81.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Iceberg snapshots" src="images/step-81.png" /></a></p>
<h2 id="77-copy-the-snapshot-id-to-your-notepad">77. Copy the snapshot id to your notepad</h2>
<p><a class="glightbox" href="images/step-82.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Copy the snapshot id to your notepad" src="images/step-82.png" /></a></p>
<h2 id="78-copy-and-paste-the-snapshot_id-and-use-it-on-the-following-impala-queries-replace-user_id-with-your-username-for-example-wuser00">78. Copy and paste the snapshot_id and use it on the following impala queries. Replace user_id with your username. For example: wuser00.</h2>
<div class="highlight"><pre><span></span><code>SELECT ticker, count(*)
FROM ${user_id}_stocks.stock_intraday_1min
FOR SYSTEM_VERSION AS OF ${snapshot_id}
GROUP BY ticker;
</code></pre></div>
<p><a class="glightbox" href="images/step-83.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Copy and paste the snapshot_id and use it on the following impala queries. Replace user_id with your username. For example: wuser00." src="images/step-83.png" /></a></p>
<h2 id="79-add-a-new-stock-nvda">79. Add a New stock (NVDA)</h2>
<p>We shall load new data and this time we will include additional stock ticker - NVDA. Go to CDF, and find the data flow that you had created earlier. It should be in stopped state if you had stopped it towards the end of</p>
<p>Step 5: Create the flow to ingest stock data via API to Object Storage section of the workshop.
<a class="glightbox" href="images/step-84.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Add a New stock (NVDA)" src="images/step-84.png" /></a></p>
<h2 id="80-go-to-cloudera-data-flow-option-and-look-for-the-flow-that-you-had-created-earlier-based-on-your-user-name-ex-wuser00_stock_dataflow">80. Go to Cloudera Data Flow option and look for the flow that you had created earlier based on your user name. Ex - wuser00_stock_dataflow.</h2>
<p><a class="glightbox" href="images/step-85.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Go to Cloudera Data Flow option and look for the flow that you had created earlier based on your user name. Ex - wuser00_stock_dataflow." src="images/step-85.png" /></a></p>
<h2 id="81-click-on-the-arrow-towards-the-right-side-of-the-flow-and-then-click-on-actions-manage-deployment">81. Click on the arrow towards the right side of the flow and then click on Actions → Manage Deployment.</h2>
<p><a class="glightbox" href="images/step-86.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on the arrow towards the right side of the flow and then click on Actions → Manage Deployment." src="images/step-86.png" /></a></p>
<h2 id="82-click-on-parameter">82. Click on parameter</h2>
<p><a class="glightbox" href="images/step-87.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on parameter" src="images/step-87.png" /></a></p>
<h2 id="83-click-on-the-parameters-tab-and-then-scroll-down-to-the-text-box-where-you-had-entered-stock-tickers-stock_list">83. Click on the Parameters tab and then scroll down to the text box where you had entered stock tickers (stock_list).</h2>
<p><a class="glightbox" href="images/step-88.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on the Parameters tab and then scroll down to the text box where you had entered stock tickers (stock_list)." src="images/step-88.png" /></a></p>
<h2 id="84-add-the-stock-nvda-and-then-click-on-apply-changes">84. Add the stock NVDA. And then click on Apply Changes.</h2>
<p><a class="glightbox" href="images/step-89.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Add the stock NVDA. And then click on Apply Changes." src="images/step-89.png" /></a></p>
<h2 id="85">85.</h2>
<p><a class="glightbox" href="images/step-90.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-90.png" /></a></p>
<h2 id="86-now-start-the-flow-again-by-clicking-actions-and-then-start-flow">86. Now, start the flow again by clicking Actions and then Start flow.</h2>
<p><a class="glightbox" href="images/step-91.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Now, start the flow again by clicking Actions and then Start flow." src="images/step-91.png" /></a></p>
<h2 id="87">87.</h2>
<p><a class="glightbox" href="images/step-92.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-92.png" /></a></p>
<h2 id="88">88.</h2>
<p><a class="glightbox" href="images/step-93.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-93.png" /></a></p>
<h2 id="89-the-s3-bucket-gets-updated-with-new-data-and-this-time-it-includes-the-new-ticker-nvda-as-well-we-will-see-it-you-can-see-the-same-in-s3-bucket-as-shown-here">89. The S3 bucket gets updated with new data and this time it includes the new ticker NVDA as well. We will see it. You can see the same in S3 bucket as shown here.</h2>
<p><a class="glightbox" href="images/step-94.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="The S3 bucket gets updated with new data and this time it includes the new ticker NVDA as well. We will see it. You can see the same in S3 bucket as shown here." src="images/step-94.png" /></a></p>
<h2 id="90">90.</h2>
<p><a class="glightbox" href="images/step-95.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-95.png" /></a></p>
<h2 id="91-you-can-verify-the-same-by-running-hdfs-command-similar-to-previous-step">91. You can verify the same by running hdfs command similar to previous step</h2>
<p>Ask your instructor to verify or you can verify the same.</p>
<p>Modify the below commands as per your username and storage.</p>
<div class="highlight"><pre><span></span><code>hdfs dfs -ls s3a://cdp-storage-sanket-500-class-240801/user/admin_1_240801/stocks/
</code></pre></div>
<p><a class="glightbox" href="images/step-96.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="You can verify the same by running hdfs command similar to previous step" src="images/step-96.png" /></a></p>
<h2 id="92">92.</h2>
<p><a class="glightbox" href="images/step-97.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-97.png" /></a></p>
<h2 id="93-now-go-to-cloudera-data-engineering-from-the-home-page-and-jobs-choose-the-cde-job-that-you-had-created-earlier-with-your-username">93. Now go to Cloudera Data Engineering from the home page and Jobs. Choose the CDE Job that you had created earlier with your username.</h2>
<p><a class="glightbox" href="images/step-98.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Now go to Cloudera Data Engineering from the home page and Jobs. Choose the CDE Job that you had created earlier with your username." src="images/step-98.png" /></a></p>
<h2 id="94">94.</h2>
<p><a class="glightbox" href="images/step-99.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-99.png" /></a></p>
<h2 id="95-click-the-3-dots-next-to-your-job-that-you-had-created-earloer-and-then-click-on-run-now">95. Click the 3 dots next to your job that you had created earloer and then click on Run Now.</h2>
<p><a class="glightbox" href="images/step-100.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click the 3 dots next to your job that you had created earloer and then click on Run Now." src="images/step-100.png" /></a></p>
<h2 id="96-click-on-job-runs-in-the-left-to-see-the-status-of-the-job-that-was-initiated-now-it-should-succeed">96. Click on Job Runs in the left to see the status of the job that was initiated now. It should succeed.</h2>
<p><a class="glightbox" href="images/step-101.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Click on Job Runs in the left to see the status of the job that was initiated now. It should succeed." src="images/step-101.png" /></a></p>
<h2 id="97-as-cdf-has-ingested-a-new-stock-value-and-then-cde-has-merged-those-value-it-has-created-new-iceberg-snapshots">97. As CDF has ingested a new stock value and then CDE has merged those value it has created new Iceberg snapshots.</h2>
<p><a class="glightbox" href="images/step-102.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="As CDF has ingested a new stock value and then CDE has merged those value it has created new Iceberg snapshots. " src="images/step-102.png" /></a></p>
<h2 id="98-check-new-snapshot-history">98. Check new snapshot history</h2>
<p>Now let check again the snapshot history by going to Hue.</p>
<div class="highlight"><pre><span></span><code>DESCRIBE HISTORY ${user_id}_stocks.stock_intraday_1min;
</code></pre></div>
<p>Copy the snapshot id.
<a class="glightbox" href="images/step-103.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Check new snapshot history" src="images/step-103.png" /></a></p>
<h2 id="99-paste-the-new-snapshot_id-and-use-it-on-the-following-impala-query">99. Paste the new snapshot_id and use it on the following impala query.</h2>
<div class="highlight"><pre><span></span><code>SELECT ticker, count(*)
FROM ${user_id}_stocks.stock_intraday_1min
FOR SYSTEM_VERSION AS OF ${new_snapshot_id}
GROUP BY ticker;
</code></pre></div>
<p>Now, we can see that this snapshot retrieves the count value for stock NVDA that has been added in the CDF stock_list parameter.
<a class="glightbox" href="images/step-104.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Paste the new snapshot_id and use it on the following impala query." src="images/step-104.png" /></a></p>
<h2 id="100-show-data-files">100. Show Data Files</h2>
<p>Replace user_id with your username. For example: wuser00.</p>
<p>.</p>
<div class="highlight"><pre><span></span><code>show files in ${user_id}_stocks.stock_intraday_1min;
</code></pre></div>
<p><a class="glightbox" href="images/step-105.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Show Data Files" src="images/step-105.png" /></a></p>
<h2 id="101-check-the-iceberg-table-replace-user_id-with-your-username-for-example-wuser00">101. Check the Iceberg table. Replace user_id with your username. For example: wuser00.</h2>
<div class="highlight"><pre><span></span><code>describe formatted ${user_id}_stocks.stock_intraday_1min;
</code></pre></div>
<p><a class="glightbox" href="images/step-106.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Check the Iceberg table. Replace user_id with your username. For example: wuser00." src="images/step-106.png" /></a></p>
<h2 id="102-note-please-make-sure-that-the-data-flow-that-was-created-by-you-is-suspended-else-it-will-be-running-continously-to-suspend-the-flow-do-the-following">102. Note: 🔴 Please make sure that the data flow that was created by you is Suspended else it will be running continously. To suspend the flow, do the following.</h2>
<p><a class="glightbox" href="images/step-107.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="Note: 🔴 Please make sure that the data flow that was created by you is Suspended else it will be running continously. To suspend the flow, do the following." src="images/step-107.png" /></a></p>
<h2 id="103">103.</h2>
<p><a class="glightbox" href="images/step-108.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-108.png" /></a></p>
<h2 id="104">104.</h2>
<p><a class="glightbox" href="images/step-109.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-109.png" /></a></p>
<h2 id="105">105.</h2>
<p><a class="glightbox" href="images/step-110.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="" src="images/step-110.png" /></a></p>
<h2 id="106-end-of-exercise">106. End of exercise.</h2>
<p><a class="glightbox" href="images/step-111.png" data-type="image" data-width="80%" data-height="auto" data-desc-position="bottom"><img alt="End of exercise." src="images/step-111.png" /></a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Cloudera Inc. 2025
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>